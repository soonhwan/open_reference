(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1387:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66),C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65),C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),hooks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),store_modules_base__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32),store_modules_display_displayCategory__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(570),store_modules_display_displayProduct__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(569),utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),query_string__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(269),query_string__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_10__),_constants__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(12),booksCategoryList=[{listId:"RNK050700001",title:"일간",menuId:"DP13041|DP13042|DP13043|DP13044"},{listId:"RNK050700003",title:"주간",menuId:"DP13041|DP13042|DP13043|DP13044"},{listId:"RNK050700005",title:"월간",menuId:"DP13041|DP13042|DP13043|DP13044"}];__webpack_exports__.default=function DisplayRankPage(props){var dispatch=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.c)(),displayCategory=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.j)((function(state){return{displayCategory:state.displayCategory}}),hooks__WEBPACK_IMPORTED_MODULE_4__.a).displayCategory,displayProduct=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.j)((function(state){return{displayProduct:state.displayProduct}}),hooks__WEBPACK_IMPORTED_MODULE_4__.a).displayProduct,_useReactRouter=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.g)(),location=(_useReactRouter.history,_useReactRouter.location),match=_useReactRouter.match,query=query_string__WEBPACK_IMPORTED_MODULE_10___default.a.parse(location.search),_match$params=match.params,topMenuId=_match$params.topMenuId,menuId=_match$params.menuId,bookpassYn=query.bookpassYn,_useState=(query.freepassGrpCd,Object(hooks__WEBPACK_IMPORTED_MODULE_4__.k)(menuId)),_useState2=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState,2),stMenuId=_useState2[0],setMenuId=_useState2[1],_useState3=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.k)(!1),_useState4=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState3,2),compYn=_useState4[0],setCompYn=_useState4[1],_useState5=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.k)([]),_useState6=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState5,2),groupList=_useState6[0],setGroupList=_useState6[1],_useState7=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.k)(utils__WEBPACK_IMPORTED_MODULE_9__.default.isEmpty(query.listId)?"RNK050700001":query.listId),_useState8=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState7,2),listId=_useState8[0],setListId=_useState8[1],getProductList=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function _callee(changedParam){var bPaging,basicParam,param,_args=arguments;return C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.async((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(bPaging=_args.length>1&&void 0!==_args[1]&&_args[1],console.log("API ::: searchDailyProductList"),basicParam={listId:null!=listId?listId:changedParam.listId,menuId:null!=stMenuId?stMenuId:changedParam.menuId,compYn:compYn?"Y":"N",startKey:displayProduct.startKey,freepassGrpCd:"Y"===bookpassYn&&"PD013333",excludeKtoonYn:"DP26"===stMenuId?"Y":""},param=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},basicParam,{},changedParam),dispatch(store_modules_base__WEBPACK_IMPORTED_MODULE_6__.setScreenLoading(!0)),!bPaging){_context.next=10;break}return _context.next=8,C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.awrap(dispatch(store_modules_display_displayProduct__WEBPACK_IMPORTED_MODULE_8__.getDisplayProductPaging(param.listId,param)));case 8:_context.next=13;break;case 10:return dispatch(store_modules_display_displayProduct__WEBPACK_IMPORTED_MODULE_8__.initDisplayProduct()),_context.next=13,C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.awrap(dispatch(store_modules_display_displayProduct__WEBPACK_IMPORTED_MODULE_8__.getDisplayProduct(param.listId,param)));case 13:dispatch(store_modules_base__WEBPACK_IMPORTED_MODULE_6__.setScreenLoading(!1));case 14:case"end":return _context.stop()}}),null,null,null,Promise)}),[listId,stMenuId,compYn,displayProduct.startKey,bookpassYn,dispatch]);Object(hooks__WEBPACK_IMPORTED_MODULE_4__.d)((function(){dispatch(store_modules_display_displayCategory__WEBPACK_IMPORTED_MODULE_7__.getDisplayCategory(topMenuId)).then((function(res){var _res$params,_res$params$menuList$,_res$params2,_res$params2$menuList,_res$params3,_res$params3$menuList,_res$params3$menuList2;(setMenuId(null===(_res$params=res.params)||void 0===_res$params||null===(_res$params$menuList$=_res$params.menuList[0])||void 0===_res$params$menuList$?void 0:_res$params$menuList$.menuKey),"Y"===bookpassYn)?(setGroupList(null===(_res$params2=res.params)||void 0===_res$params2||null===(_res$params2$menuList=_res$params2.menuList[0])||void 0===_res$params2$menuList?void 0:_res$params2$menuList.groupList),setListId(null===(_res$params3=res.params)||void 0===_res$params3||null===(_res$params3$menuList=_res$params3.menuList[0])||void 0===_res$params3$menuList||null===(_res$params3$menuList2=_res$params3$menuList.groupList[0])||void 0===_res$params3$menuList2?void 0:_res$params3$menuList2.listId)):(setGroupList(booksCategoryList),setListId("RNK050700001"));getProductList({listId:res.params.menuList[0].groupList[0].listId,menuId:res.params.menuList[0].menuKey})}))}),[]);var changeCategory=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventData){console.log("EVENT ::: changeCategory ==> ",eventData),setMenuId(eventData.menuKey),setGroupList("Y"===bookpassYn?eventData.groupList:booksCategoryList),getProductList({menuId:eventData.menuKey})}),[bookpassYn,getProductList]),changeSort=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventData){console.log("EVENT ::: changeSort ==> ",eventData),setListId(eventData.listId),getProductList({listId:eventData.listId})}),[getProductList]),changeSortCompleted=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventData){console.log("EVENT ::: changeSortCompleted ==> ",eventData),setCompYn(eventData),getProductList({compYn:eventData})}),[getProductList]),clickCatetoryItem=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventData){console.log("EVENT ::: clickCatetoryItem ==> ",eventData)}),[]),handleEvent=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventName,eventData,event){switch(eventName){case"change_PrimaryBar":changeCategory(eventData);break;case"change_SortingBar_item":changeSort(eventData);break;case"change_SortingBar_completed":changeSortCompleted(eventData);break;case"click_ItemRenderer":clickCatetoryItem(eventData)}}),[changeCategory,changeSort,changeSortCompleted,clickCatetoryItem]),helmet=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.f)((function(){return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.BooksHelmet,null,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("title",null,"unknown"),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("meta",{name:"keywords",content:"unknown, 북스, 오디오북"}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("meta",{name:"description",content:"할인혜택이 가장 많은 국내 1위 eBook 서비스 도서, 장르소설, 웹소설, 만화, 웹툰을 한곳에서 이용하세요."}))}),[]);return _constants__WEBPACK_IMPORTED_MODULE_11__.logConfig.render&&console.log("%r DisplayRankPage"),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.SubTemplate,null,helmet,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{className:"DisplayRankPage"},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.Lnb,{lnbTitle:displayCategory.upMenuKey}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.PrimaryBar,{mode:"landingNav",itemList:displayCategory.menuList,itemValueKey:"menuKey",itemTextKey:"menuName",selectedItemValue:stMenuId,onEvent:handleEvent}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.SortingBar,{mode:"completed",title:function getTotalCount(){var count=displayCategory.startKey?displayCategory.startKey.split("/")[0]:"0";return"총 ".concat(utils__WEBPACK_IMPORTED_MODULE_9__.default.setComma(count),"권")}(),itemValueKey:"listId",itemTextKey:"title",itemList:groupList,selectedItemValue:listId,onEvent:handleEvent}),displayProduct.productList.length>0&&function getListRender(){return displayProduct.productList.length>0?react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.List,{mode:"list",itemRenderer:"default1Row",infoList:displayProduct.productList,onEvent:handleEvent}):displayProduct.isLoading?null:react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.ListNoResults,{mode:"basic",thumb:"/static/images/thumb/list_no_results_01.png",title:displayProduct.title+" 결과가 존재하지 않습니다."})}()))}}}]);
//# sourceMappingURL=12.7936adb329237083da02.bundle.js.map