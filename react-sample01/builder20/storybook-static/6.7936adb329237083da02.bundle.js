(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1381:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65),C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(66),C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),hooks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),store_modules_base__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32),store_modules_display_displayCategory__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(570),store_modules_display_displayProduct__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(569),utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),query_string__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(269),query_string__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_10__),_constants__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(12);__webpack_exports__.default=Object(react__WEBPACK_IMPORTED_MODULE_3__.memo)((function DisplayCategoryPage(){var dispatch=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.c)(),displayCategory=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.j)((function(state){return{displayCategory:state.displayCategory}}),hooks__WEBPACK_IMPORTED_MODULE_4__.a).displayCategory,displayProduct=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.j)((function(state){return{displayProduct:state.displayProduct}}),hooks__WEBPACK_IMPORTED_MODULE_4__.a).displayProduct,_useReactRouter=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.g)(),location=(_useReactRouter.history,_useReactRouter.location),match=_useReactRouter.match,query=query_string__WEBPACK_IMPORTED_MODULE_10___default.a.parse(location.search),_match$params=match.params,topMenuId=_match$params.topMenuId,menuId=_match$params.menuId,_useState=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.k)(menuId),_useState2=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState,2),stMenuId=_useState2[0],setMenuId=_useState2[1],_useState3=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.k)(!1),_useState4=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState3,2),compYn=_useState4[0],setCompYn=_useState4[1],_useState5=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.k)([]),_useState6=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState5,2),groupList=_useState6[0],setGroupList=_useState6[1],_useState7=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.k)(utils__WEBPACK_IMPORTED_MODULE_9__.default.isEmpty(query.listId)?"RNK050700001":query.listId),_useState8=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState7,2),listId=_useState8[0],setListId=_useState8[1],getCategoryList=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function _callee(){return C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(dispatch(store_modules_display_displayCategory__WEBPACK_IMPORTED_MODULE_7__.getDisplayCategory(topMenuId)).then((function(res){var _res$params,_res$params2;if(res&&utils__WEBPACK_IMPORTED_MODULE_9__.default.isEmpty(stMenuId))setMenuId(null===(_res$params=res.params)||void 0===_res$params?void 0:_res$params.menuList[0].menuKey),setGroupList(null===(_res$params2=res.params)||void 0===_res$params2?void 0:_res$params2.menuList[0].groupList);else if(utils__WEBPACK_IMPORTED_MODULE_9__.default.isEmpty(groupList)){var _res$params3,matchingObject=null===(_res$params3=res.params)||void 0===_res$params3?void 0:_res$params3.menuList.filter((function(x){return x.menuKey===stMenuId}))[0];setGroupList(matchingObject.groupList)}})));case 2:case"end":return _context.stop()}}),null,null,null,Promise)}),[dispatch,groupList,stMenuId,topMenuId]),getProductList=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function _callee2(changedParam){var bPaging,basicParam,param,_args2=arguments;return C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(bPaging=_args2.length>1&&void 0!==_args2[1]&&_args2[1],console.log("API ::: searchDailyProductList"),basicParam={listId:listId,menuId:stMenuId,compYn:compYn?"Y":"N",startKey:displayProduct.startKey,freepassGrpCd:"",excludeKtoonYn:"DP26"===stMenuId?"Y":""},param=Object(C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},basicParam,{},changedParam),dispatch(store_modules_base__WEBPACK_IMPORTED_MODULE_6__.setScreenLoading(!0)),!bPaging){_context2.next=10;break}return _context2.next=8,C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(dispatch(store_modules_display_displayProduct__WEBPACK_IMPORTED_MODULE_8__.getDisplayProductPaging(param.listId,param)));case 8:_context2.next=13;break;case 10:return dispatch(store_modules_display_displayProduct__WEBPACK_IMPORTED_MODULE_8__.initDisplayProduct()),_context2.next=13,C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(dispatch(store_modules_display_displayProduct__WEBPACK_IMPORTED_MODULE_8__.getDisplayProduct(param.listId,param)));case 13:dispatch(store_modules_base__WEBPACK_IMPORTED_MODULE_6__.setScreenLoading(!1));case 14:case"end":return _context2.stop()}}),null,null,null,Promise)}),[dispatch,displayProduct.startKey,listId,stMenuId,compYn]),getProductListWithPaging=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(){return getProductList({},!0)}),[getProductList]);Object(hooks__WEBPACK_IMPORTED_MODULE_4__.d)((function(){!function firstLoading(){C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.async((function firstLoading$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(getCategoryList());case 2:return _context3.next=4,C_work_react_sample01_builder20_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.awrap(getProductList());case 4:case"end":return _context3.stop()}}),null,null,null,Promise)}()}),[]);var isHit=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.i)({threshold:300}),isPendingPaging=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.h)(!1);Object(hooks__WEBPACK_IMPORTED_MODULE_4__.e)((function(){isHit&&"Y"===displayProduct.hasNext&&!isPendingPaging.current&&(console.log("EVENT ::: PAGE SCROLL => DisplayDailyPage useLayoutEffect -> ",isHit,displayProduct),isPendingPaging.current=!0,getProductListWithPaging())}),[isHit,dispatch,displayProduct,getProductListWithPaging]);var changeCategory=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventData){console.log("EVENT ::: changeCategory ==> ",eventData),setMenuId(eventData.menuKey),setGroupList(eventData.groupList),getProductList({menuId:eventData.menuKey})}),[getProductList]),changeSort=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventData){console.log("EVENT ::: changeSort ==> ",eventData),setListId(eventData.listId),getProductList({listId:eventData.listId})}),[getProductList]),changeSortCompleted=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventData){console.log("EVENT ::: changeSortCompleted ==> ",eventData),setCompYn(eventData),getProductList({compYn:eventData})}),[getProductList]),clickCatetoryItem=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventData){console.log("EVENT ::: clickCatetoryItem ==> ",eventData)}),[]),handleEvent=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.b)((function(eventName,eventData,event){switch(eventName){case"change_PrimaryBar":changeCategory(eventData);break;case"change_SortingBar_item":changeSort(eventData);break;case"change_SortingBar_completed":changeSortCompleted(eventData);break;case"click_ItemRenderer":clickCatetoryItem(eventData)}}),[changeCategory,changeSort,changeSortCompleted,clickCatetoryItem]),helmet=Object(hooks__WEBPACK_IMPORTED_MODULE_4__.f)((function(){return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.BooksHelmet,null,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("title",null,"unknown"),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("meta",{name:"keywords",content:"unknown, 북스, 오디오북"}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("meta",{name:"description",content:"할인혜택이 가장 많은 국내 1위 eBook 서비스 도서, 장르소설, 웹소설, 만화, 웹툰을 한곳에서 이용하세요."}))}),[]);return _constants__WEBPACK_IMPORTED_MODULE_11__.logConfig.render&&console.log("%r DisplayCategoryPage"),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.SubTemplate,null,helmet,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{className:"DisplayCategoryPage"},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.Lnb,{lnbTitle:displayCategory.upMenuKey}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.PrimaryBar,{mode:"landingNav",itemList:displayCategory.menuList,itemValueKey:"menuKey",itemTextKey:"menuName",selectedItemValue:stMenuId,onEvent:handleEvent}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.SortingBar,{mode:"completed",title:function getTotalCount(){var count=displayCategory.startKey?displayCategory.startKey.split("/")[0]:"0";return"총 ".concat(utils__WEBPACK_IMPORTED_MODULE_9__.default.setComma(count),"권")}(),itemValueKey:"listId",itemTextKey:"title",itemList:groupList,selectedItemValue:listId,onEvent:handleEvent}),displayProduct.productList.length>0&&function getListRender(){return displayProduct.productList.length>0?react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.List,{mode:"list",itemRenderer:"default1Row",infoList:displayProduct.productList,onEvent:handleEvent}):displayProduct.isLoading?null:react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(components__WEBPACK_IMPORTED_MODULE_5__.ListNoResults,{mode:"basic",thumb:"/static/images/thumb/list_no_results_01.png",title:displayProduct.title+" 결과가 존재하지 않습니다."})}()))}))}}]);
//# sourceMappingURL=6.7936adb329237083da02.bundle.js.map