<input type="hidden" id="WWW_DOMAIN"  	value="www.priviatravel.com"    />
<input type="hidden" id="HOTEL_DOMAIN"  value="hotel.priviatravel.com"    />
<div class="quick-sub-menu">
	<ul class="sch-1dep item-2">
		<li><a href="#" class="on">해외호텔</a></li>
		<li><a href="#">국내숙박</a></li>
	</ul>
</div>
<!-- 해외호텔 -->
<div class="sch-1dep-cont on" id="int_area_div">
	<form name="htl_search" id="htl_search" method="post" target="_self"><!--#17254-->
          <input type="hidden" id="city_code" 		name="city_code" 		value="" />
          <input type="hidden" id="nation_name" 	name="nation_name" 		value="" />
          <input type="hidden" id="hsf_bed_type" 	name="hsf_bed_type" 	value="" />
          <input type="hidden" id="stay_adult" 		name="stay_adult" 		value="" />
          <input type="hidden" id="week" 			name="week" 			value="" />
          <input type="hidden" id="location" 		name="location" 		value="INT" />
<!--          <input type="hidden" id="stayDay" 		name="stayDay" 			value="1" />-->
<!--          <input type="hidden" id="checkin_date" 	name="checkin_date" 	value="" />-->
<!--          <input type="hidden" id="checkout_date" name="checkout_date" 	value="" />-->
          <input type="hidden" id="room_cnt" 		name="room_cnt" 	value="" />
          
	<div class="item htl-i-input">
		<i></i>
		<input type="text" class="text holder input-lg" style="width:234px;" title="여행도시" value="여행도시" id="city_name" name="city_name" autocomplete="off" onfocus="htlQuickSearch.cityNameFocusIn(this);"  onclick="htlQuickSearch.cityNameClick(this);" onblur="htlQuickSearch.cityNameFocusOut(this);" onkeyup="htlQuickSearch.cityNameKeyUp(this ,event);" /> <!--  onclick="htlCityPopup();" -->
		<!--#7254-->
		<div id="htl-auto-ov">
			<!-- 해외도시자동완성 -->
			<div id="inthtlcity_autocomplete" class="inthtlcity_autocomplete" ></div>
			<!-- //해외도시자동완성 -->
			<!-- 도시검색 레이어 -->
			<div class="city-search-lpu city-lpu-htl-out inthtlcity_quicklayer" id="inthtlcity_quicklayer" >
			    <ul class="text-list-sm">
			        <li>여행도시에 도시명(한글, 영문, 도시코드)으로 검색하거나 아래 주요도시에서 선택하세요.</li>
			    </ul>
			    <table class="table-li-mix item-5" summary="대한민국, 일본, 중국, 유럽, 대양주, 아시아, 미주의 각 주요도시를 선택할 수 있는표입니다.">
			    <caption>주요도시 바로선택표</caption>
			    <colgroup>
			        <col width="100" /><col />
			    </colgroup>
			    <tbody>
			    <tr>
			        <th scope="row" class="bg"><b>아시아</b></th>
			        <td>
			            <ul>
			            	<li><a href="#" onclick="htlQuickSearch.setHtlCity('R3Y', '다낭', '베트남' ,'Y');return false;">다낭</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('LIL', '싱가포르', '싱가포르' ,'Y');return false;">싱가포르</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('AJE', '방콕', '태국' ,'Y');return false;">방콕</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('AP3', '세부', '필리핀' ,'Y');return false;">세부</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('O91', '코타키나발루', '말레이지아' ,'Y');return false;">코타키나발루</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('7O5', '발리', '인도네시아' ,'Y');return false;">발리</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('AUU', '푸켓', '태국' ,'Y');return false;">푸켓</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('AZP', '마닐라', '필리핀' ,'Y');return false;">마닐라</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('AUB', '파타야', '태국' ,'Y');return false;">파타야</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('NEB', '보라카이', '필리핀' ,'Y');return false;">보라카이</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('F5X', '나트랑', '베트남' ,'Y');return false;">나트랑</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('F5R', '호이안', '베트남' ,'Y');return false;">호이안</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('R44', '호치민', '베트남' ,'Y');return false;">호치민</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('F5P', '하노이', '베트남' ,'Y');return false;">하노이</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('AXT', '쿠알라룸푸르', '말레이지아' ,'Y');return false;">쿠알라룸푸르</a></li>
			            </ul>
			        </td>
			    </tr>
			    <tr>
			        <th scope="row" class="bg"><b>홍콩/중국</b></th>
			        <td>
			            <ul>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('75N', '홍콩', '홍콩' ,'Y');return false;">홍콩</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('QJQ', '타이페이', '대만' ,'Y');return false;">타이페이</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('IVB', '마카오', '마카오' ,'Y');return false;">마카오</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('IVT', '상해', '중국' ,'Y');return false;">상해</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('IFB', '북경', '중국' ,'Y');return false;">북경</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('1WQ', '청도', '중국' ,'Y');return false;">청도</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('1TU', '광저우', '중국' ,'Y');return false;">광저우</a></li>
			            </ul>
			        </td>
			    </tr>
			    <tr>
			        <th scope="row" class="bg"><b>일본</b></th>
			        <td>
			            <ul>
			            	<li><a href="#" onclick="htlQuickSearch.setHtlCity('LVZ', '오키나와', '일본' ,'Y');return false;">오키나와</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('LW8', '오사카', '일본' ,'Y');return false;">오사카</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('OKT', '도쿄', '일본' ,'Y');return false;">도쿄</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('OCR', '후쿠오카', '일본' ,'Y');return false;">후쿠오카</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('8K8', '삿포로', '일본' ,'Y');return false;">삿포로</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('8P8', '교토', '일본' ,'Y');return false;">교토</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('93W', '유후인', '일본' ,'Y');return false;">유후인</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('LV0', '나고야', '일본' ,'Y');return false;">나고야</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('8RL', '노보리베츠', '일본' ,'Y');return false;">노보리베츠</a></li>
			            </ul>
			        </td>
			    </tr>
			    <tr>
			        <th scope="row" class="bg"><b>남태평양</b></th>
			        <td>
			            <ul>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('75J', '괌', '괌' ,'Y');return false;">괌</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('A2P', '사이판', '북 마리아나 제도' ,'Y');return false;">사이판</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('0H2', '시드니', '호주' ,'Y');return false;">시드니</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('0DB', '멜버른', '호주' ,'Y');return false;">멜버른</a></li>
			            </ul>
			        </td>
			    </tr>
			    <tr>
			        <th scope="row" class="bg"><b>유럽</b></th>
			        <td>
			            <ul>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('4XW', '파리', '프랑스' ,'Y');return false;">파리</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('8UY', '로마', '이탈리아' ,'Y');return false;">로마</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('6MR', '런던', '영국' ,'Y');return false;">런던</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('297', '프라하', '체코' ,'Y');return false;">프라하</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('NBF', '피렌체(플로렌스)', '이탈리아' ,'Y');return false;">피렌체</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('3QW', '바르셀로나', '스페인' ,'Y');return false;">바로셀로나</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('89R', '밀라노', '이탈리아' ,'Y');return false;">밀라노</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('8FC', '베니스', '이탈리아' ,'Y');return false;">베니스</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('O3W', '부다페스트', '헝가리' ,'Y');return false;">부다페스트</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('013', '비엔나', '오스트리아' ,'Y');return false;">비엔나</a></li>
			            </ul>
			        </td>
			    </tr>
			    <tr>
			        <th scope="row" class="bg"><b>미주/캐나다</b></th>
			        <td>
			            <ul>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('Q9J', '호놀룰루', '미국' ,'Y');return false;">호놀룰루</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('PNT', '마우이', '미국' ,'Y');return false;">마우이</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('I11', '라스베가스', '미국' ,'Y');return false;">라스베가스</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('G5D', '뉴욕', '미국' ,'Y');return false;">뉴욕</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('FNU', '샌프란시스코', '미국' ,'Y');return false;">샌프란시스코</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('BDG', '시카고', '미국' ,'Y');return false;">시카고</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('DUO', '로스엔젤레스', '미국' ,'Y');return false;">로스엔젤레스</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('23D', '밴쿠버', '캐나다','Y');return false;">벤쿠버</a></li>
			                <li><a href="#" onclick="htlQuickSearch.setHtlCity('22W', '토론토', '캐나다','Y');return false;">토론토</a></li>
			            </ul>
			        </td>
			    </tr>
			    </tbody>
			    </table> 
			</div>
			<!-- //도시검색 레이어 -->
		</div>
		<!-- //#7254 -->
	</div>
	<div class="item">
		<div class="col3-3">
			<span class="fl"><!-- datepicker -->
				<input type="text" id="int_checkin_date" name="checkin_date" class="text_cal holder " style="width:91px;" value="체크인" readonly="readonly" title="체크인"></input><!--#24858 width 변경-->
			</span>
			<span class="fl r-day">
				<select class="bd-black" style="width:60px" id="int_stayday" name="stayDay" >
					<option value="1">1박</option>
					<option value="2">2박</option>
					<option value="3">3박</option>
					<option value="4">4박</option>
					<option value="5">5박</option>
					<option value="6">6박</option>
					<option value="7">7박</option>
					<option value="8">8박</option>
					<option value="9">9박</option>
					<option value="10">10박</option>
					<option value="11">11박</option>
					<option value="12">12박</option>
					<option value="13">13박</option>
					<option value="14">14박</option>
					<option value="15">15박</option>
					
				</select>
			</span>
			<span class="fr"><!-- datepicker -->
				<input type="text" id="int_checkout_date" name="checkout_date" class="text_cal holder " style="width:91px;" value="체크아웃" readonly="readonly" title="체크아웃"></input><!--#24858 width 변경-->
			</span>
		</div>
	</div>
	<div class="item add-line htl-add">
		<div class="flight clearfix">
			<strong class="fl">객실타입</strong>
			<a href="#" onclick="htlQuickSearch.clickRoomPlus('int_area_div');return false;" class="btn-plus"><span class="blind">객실 추가</span></a>
			<a href="#" onclick="htlQuickSearch.clickRoomMinus('int_area_div');return false;" class="btn-minus"><span class="blind">객실 삭제</span></a>
		</div>
		<!-- 객실 -->
		<div class="htl-add-item">
			<span class="num fl">01</span>
			<select class="fr bd-black" style="width:235px" name="stayAdult1_1">
				<option value="">선택하세요</option>
				<option value="1_SG" code="SG" >1인실</option>
				<option value="2_DB" code="DB" >2인실(더블요청)</option>
                <option value="2_TW" code="TW" >2인실(트윈요청)</option>
                <option value="3_TR" code="TR" >3인실</option>
			</select>
		</div>
		<div class="htl-add-item" style="display:none;" >
			<span class="num fl">02</span>
			<select class="fr bd-black" style="width:235px" name="stayAdult1_2">
				<option value="">선택하세요</option>
				<option value="1_SG" code="SG" >1인실</option>
				<option value="2_DB" code="DB" >2인실(더블요청)</option>
                <option value="2_TW" code="TW" >2인실(트윈요청)</option>
                <option value="3_TR" code="TR" >3인실</option>
			</select>
		</div>
		<div class="htl-add-item" style="display:none;">
			<span class="num fl">03</span>
			<select class="fr bd-black" style="width:235px" name="stayAdult1_3">
				<option value="">선택하세요</option>
				<option value="1_SG" code="SG" >1인실</option>
				<option value="2_DB" code="DB" >2인실(더블요청)</option>
             	<option value="2_TW" code="TW" >2인실(트윈요청)</option>
             	<option value="3_TR" code="TR" >3인실</option>
			</select>
		</div>
		<!-- //객실 -->
	</div>
	<div class="item htl-i-input2">
		<i></i>
		<input type="text" id="htl_name" name="htl_name" class="text holder input-lg" style="width:210px" title="한글 및 영문 호텔 이름" value="한글 및 영문 호텔 이름" onfocus="htlQuickSearch.htlNameFocusIn(this);" onblur="htlQuickSearch.htlNameFocusOut(this);" autocomplete="off" ><!--#24858 width 변경-->
		<a href="#" class="btn-input-clear"><span class="blind">작성내용 지우기</span></a><!-- #24858 추가 -->
		<!-- #7254 -->
		<div id="htl-auto-ov2">
			<!-- 해외호텔명자동완성 -->
				<div id="inthtlname_autocomplete" class="inthtlname_autocomplete" ></div>
			<!-- //해외호텔명자동완성 -->
		</div>
		<!-- //#7254 -->
		
	</div>
	
	<!-- #28296 추가(객실추가시 비노출) -->
	<div class="q-banner"><img src="//static.priviatravel.com/images/front/travel/search/banner_htl.png" alt="현대카드 5% 즉시할인 + 항공 동시 구매 2% 추가 할인"></div>
	<!-- //#28296 추가(객실추가시 비노출) -->
	
	<div class="btn-search-type2"><a href="#" onclick="htlQuickSearch.clickHotelSearch('int_area_div');return false;"><img src="//static.priviatravel.com/images/front/travel/btn_quick_cont_search.gif" alt="검색하기" /></a></div>
	</form>
</div>
<!-- //해외호텔 -->

<!-- 국내숙박 -->
<div class="sch-1dep-cont" id="dom_area_div">
	<form name="htl_search" id="htl_search" method="post" target="_self"><!--#17254-->
 		<input type="hidden"	id="ccc_sub_area_lcl" 	name="ccc_sub_area_lcl" 	value="" />
 		<input type="hidden"	id="ccc_sub_area_code" 	name="ccc_sub_area_code" 	value="" />
		<input type="hidden"	id="city_code" 			name="city_code" 			value="" />
<!-- 		<input type="hidden"	id="city_name" 			name="city_name" 			value="" /> -->
		<input type="hidden"	id="hsf_bed_type" 		name="hsf_bed_type" 		value="" />
		<input type="hidden"	id="stay_adult" 		name="stay_adult" 			value="" />
		<input type="hidden"	id="week" 				name="week" 				value="" />
		<input type="hidden"	id="location" 			name="location" 			value="DOM" />
		<input type="hidden" 	id="room_cnt" 			name="room_cnt" 			value="" />
		
<!--    <input type="hidden"	id="stayDay" 			name="stayDay" 				value="1" />-->
<!--    <input type="hidden"	id="checkin_date" 		name="checkin_date" 		value="" />-->
<!--    <input type="hidden"	id="checkout_date"		name="checkout_date" 		value="" />-->
		

	<div class="item htl-i-input">
		<li></li>
		<input type="text" class="text holder input-lg" style="width:234px;" title="여행도시" value="여행도시" id="city_name" name="city_name" autocomplete="off" onfocus="htlQuickSearch.cityNameFocusIn(this);" onclick="htlQuickSearch.cityNameClick(this);" onblur="htlQuickSearch.cityNameFocusOut(this);return false;" onkeyup="htlQuickSearch.cityNameKeyUp(this, event);" />
		<div id="htl-auto-in">
 			<!-- 국내도시 자동완성 -->
			<div id="domhtlcity_autocomplete" class="domhtlcity_autocomplete"></div>
 			<!-- //국내도시 자동완성 -->
			<!-- 도시검색 레이어 --> 
			<div class="city-search-lpu city-lpu-htl-in domhtlcity_quicklayer" id="domhtlcity_quicklayer" >
				<ul class="text-list-sm">
					<li>여행도시에 도시명(시, 군, 구명)으로 검색하거나 아래 주요도시에서 선택하세요.</li>
               	</ul>
				<div class="of-auto" tabindex='0'>
					<ul>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','690','제주도' ,'Y');return false;" href="#" 	>제주도 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','100','서울특별시' ,'Y');return false;" href="#"	>서울특별시 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','600','부산광역시' ,'Y');return false;" href="#"	>부산광역시 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','400','인천광역시' ,'Y');return false;" href="#"	>인천광역시 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','500','광주광역시' ,'Y');return false;" href="#"	>광주광역시 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','700','대구광역시' ,'Y');return false;" href="#"	>대구광역시 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','340','대전광역시' ,'Y');return false;" href="#"	>대전광역시 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','680','울산광역시' ,'Y');return false;" href="#"	>울산광역시 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','200','강원도' ,'Y');return false;" 	href="#"	>강원도 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','450','경기도' ,'Y');return false;" 	href="#"	>경기도 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','640','경상남도' ,'Y');return false;" href="#"	>경상남도 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','720','경상북도' ,'Y');return false;" href="#"	>경상북도 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','540','전라남도' ,'Y');return false;" href="#" 	>전라남도 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','570','전라북도' ,'Y');return false;" href="#"	>전라북도 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','300','충청남도' ,'Y');return false;" href="#"	>충청남도 전체</a></li>
						<li><a onclick="htlQuickSearch.setDomHtlCity('','','350','충청북도' ,'Y');return false;" href="#"	>충청북도 전체</a></li>
					</ul>
				</div>
			</div>
			<!-- //도시검색 레이어 --> 
		</div>
		
		<!-- 
		<div class="col2">
			<span class="fl">
				<select class="selectbox-lg bd-black selectbox-option-width:133px" style="width:108px" name="ccc_sub_area_code" id="ccc_sub_area_code" onchange="htlQuickSearch.setDomCities(this.value);">
					<option value="690">제주도</option>  #8460 순서변경 
					<option value="100">서울특별시</option>
                    <option value="600">부산광역시</option>
					<option value="200">강원도</option>
					<option value="450">경기도</option>
					<option value="640">경상남도</option>
					<option value="720">경상북도</option>
					<option value="500">광주광역시</option>
					<option value="700">대구광역시</option>
					<option value="340">대전광역시</option>
					<option value="680">울산광역시</option>
					<option value="400">인천광역시</option>
					<option value="540">전라남도</option>
					<option value="570">전라북도</option>
					<option value="300">충청남도</option>
					<option value="350">충청북도</option>
				</select>
			</span>
			<span class="fr">
				<select class="selectbox-lg bd-black selectbox-option-width:132px" style="width:107px" name="city_code" id="city_code">
					<option value="">시군별 전체</option>
					<option value="D679">서귀포시</option>
					<option value="D690">제주시</option>
				</select>
			</span>
		</div>
		-->
	</div>
	<div class="item">
		<div class="col3-3">
			<span class="fl"><!-- datepicker -->
				<input type="text" id="dom_checkin_date" name="checkin_date" class="text_cal holder " style="width:91px;" value="체크인" readonly="readonly" title="체크인"><!--#24858 width 변경-->
			</span>
			<span class="fl r-day">
				<select class="bd-black" style="width:60px" id="dom_stayday" name="stayDay" >
					<option value="1">1박</option>
					<option value="2">2박</option>
					<option value="3">3박</option>
					<option value="4">4박</option>
					<option value="5">5박</option>
					<option value="6">6박</option>
					<option value="7">7박</option>
					<option value="8">8박</option>
					<option value="9">9박</option>
					<option value="10">10박</option>
					<option value="11">11박</option>
					<option value="12">12박</option>
					<option value="13">13박</option>
					<option value="14">14박</option>
					<option value="15">15박</option>
				</select>
			</span>
			<span class="fr"><!-- datepicker -->
				<input type="text" id="dom_checkout_date" name="checkout_date" class="text_cal holder " style="width:91px;" value="체크아웃" readonly="readonly" title="체크아웃"><!--#24858 width 변경-->
			</span>
		</div>
	</div>
	<div class="item add-line htl-add">
		<div class="flight clearfix">
			<strong class="fl">객실타입</strong>
			<a href="#" onclick="htlQuickSearch.clickRoomPlus('dom_area_div');return false;" class="btn-plus"><span class="blind">객실 추가</span></a>
			<a href="#" onclick="htlQuickSearch.clickRoomMinus('dom_area_div');return false;" class="btn-minus"><span class="blind">객실 삭제</span></a>
		</div>
		<!-- 객실 -->
		<div class="htl-add-item">
			<span class="num fl">01</span>
			<select class="fr bd-black" style="width:235px" name="stayAdult1_1">
				<option value="">선택하세요</option>
				<option value="1_SG" code="SG" >1인실</option>
				<option value="2_DB" code="DB" >2인실(더블요청)</option>
                <option value="2_TW" code="TW" >2인실(트윈요청)</option>
                <option value="3_TR" code="TR" >3인실</option>
			</select>
		</div>
		<div class="htl-add-item" style="display: none;">
			<span class="num fl">02</span>
			<select class="fr bd-black" style="width:235px" name="stayAdult1_2">
				<option value="">선택하세요</option>
				<option value="1_SG" code="SG" >1인실</option>
				<option value="2_DB" code="DB" >2인실(더블요청)</option>
                <option value="2_TW" code="TW" >2인실(트윈요청)</option>
                <option value="3_TR" code="TR" >3인실</option>
			</select>
		</div>
		<div class="htl-add-item" style="display: none;">
			<span class="num fl">03</span>
			<select class="fr bd-black" style="width:235px" name="stayAdult1_3">
				<option value="">선택하세요</option>
				<option value="1_SG" code="SG" >1인실</option>
				<option value="2_DB" code="DB" >2인실(더블요청)</option>
                <option value="2_TW" code="TW" >2인실(트윈요청)</option>
                <option value="3_TR" code="TR" >3인실</option>
			</select>
		</div>
		<!-- //객실 -->
	</div>
	<div class="item htl-i-input2">
		<i></i>
		<input type="text" id="htl_name" name="htl_name" class="text holder input-lg" style="width:210px" title="한글 및 영문 호텔 이름" value="한글 및 영문 호텔 이름" onfocus="htlQuickSearch.htlNameFocusIn(this);" onblur="htlQuickSearch.htlNameFocusOut(this);" autocomplete="off" ><!--#24858 width 변경-->
		<a href="#" class="btn-input-clear"><span class="blind">작성내용 지우기</span></a><!-- #24858 추가 -->
		<!-- #7254 -->
		<div id="htl-auto-in2">
<!-- 			국내호텔명 자동완성  -->
			<div id="domhtlname_autocomplete" class="domhtlname_autocomplete" ></div>
<!-- 			//국내호텔명 자동완성 -->
		</div>
		<!-- //#7254 -->
	</div>
	<div class="btn-search-type2"><a href="#" onclick="htlQuickSearch.clickHotelSearch('dom_area_div');return false;"><img src="//static.priviatravel.com/images/front/travel/btn_quick_cont_search.gif" alt="검색하기" /></a></div>
	</form>
</div>
<!-- //국내숙박 -->

<!-- 모바일 전용특가 (#23236배너삭제)-->
<!-- #28704 -->
<div class="fly-banner"><a href="#" class="btn-layerpop event-mobile2">모바일 전용 쿠폰</a></div>
<div class="smsholder">
	<div class="layer_pop" style="width: 308px; z-index: 11;">
		<div class="content">
			<img src="//static.priviatravel.com/images/front/travel/img_quick_htl_layer.gif" alt=""  border="0">
			<!--<map id="map_htl_layer" name="map_htl_layer">
				<area shape="rect" coords="18,247,249,369" href="#" onclick="downloadCoupon('1069')">
			</map>-->
			<a href="#" class="btn_close">닫기</a>
		</div>
	</div>
</div>
<!-- //#28704 -->
<!-- //모바일 전용특가 -->

<!-- 최근검색 -->
<div class="recently-search">
	<div class="recently-search-title">
		<p class="tit">최근검색</p>
		<a href="javascript:;" id="recently-search-close">퀵검색 닫기</a>
	</div>
	<!-- 최근검색 데이터-->
	<div class="recently-search-cont" class="content light">
		<!-- 해외호텔 -->
		<ul class="recently-search-list INT_HTL_HISTORY_SEARCH">
		</ul>
		<!-- 해외호텔 -->

		<!-- 국내호텔 -->
		<ul class="recently-search-list DOM_HTL_HISTORY_SEARCH">
		</ul>
		<!-- 국내호텔 -->
	</div>
</div>
<script type="text/javascript">
/*-----호텔 관련 변수 start-----*/
var htlMinStayDay = 1;
var htlMaxStayDay = 15;
var currHtlStayDay = 1;
/*-----호텔 관련 변수end-----*/
var int_existingValue = "";//퀵서치 도시검색관련변수
var dom_existingValue = "";//퀵서치 도시검색관련변수

var htlQuickSearch = { //htlQuickSearch.html에서 사용.
		//날짜계산
		calculateDate : function(inputDate, delimiter, calDate){
			inputDate = inputDate.split(delimiter);

		    var date = new Date(inputDate[0], inputDate[1]-1, inputDate[2]);
		
		    date.setDate(date.getDate() + parseInt(calDate));
		    var year = date.getFullYear();
		    var month = date.getMonth() +1;
		    var day = date.getDate();
		    
		    if(month < 10) month = "0" + month;
		    if(day < 10) day = "0" + day;
    
		    return year + delimiter + month + delimiter + day;
		}
		//해외 도시 팝업에서 도시 선택시 호출 -> 팝업 사용하지 않고 레이어와 자동완성에서 도시 선택시 호출.
	,	setHtlCity : function(ct_code, ct_name, nt_name, recommct_click){
		
			//console.log('setHtlCity');	
			var targetForm = "#int_area_div form[id=htl_search]";
			
			if( int_existingValue !="" && int_existingValue != "여행도시"){
				
				var dataArr = int_existingValue.split("|");
				var existingValue_citycode = dataArr[0];//도시코드
				if( existingValue_citycode != ct_code){
					$("#htl_name"	, targetForm).val("");
					$("#htl_name"	, targetForm).trigger("blur");
				}
			}
			
			$("#city_code"	, targetForm).val(ct_code);
			$("#city_name"	, targetForm).val(ct_name);
			$("#nation_name", targetForm).val(nt_name);
			
			//[#26630
			if( recommct_click == "Y"){
				$("#city_code"	, targetForm).attr("recommct_click", "Y");	
			}
			else{
				$("#city_code"	, targetForm).removeAttr("recommct_click");
			}
			//]
			
			$("#city_name",targetForm).trigger("blur");
			$("#city_code"	, targetForm).focus(); 
		}
	,	setDomHtlCity : function( ct_code, ct_name, area_code, area_name, recommct_click){
		
			//console.log('setDomHtlCity');
			
			var targetForm = "#dom_area_div form[id=htl_search]";

			if( dom_existingValue !="" && dom_existingValue != "여행도시"){
				
				var dataArr = dom_existingValue.split("|");
				var existingValue_citycode = dataArr[0];//도시코드
				if( existingValue_citycode != ct_code){
					$("#htl_name"	, targetForm).val("");
					$("#htl_name"	, targetForm).trigger("blur");
				}
			}
			
			if( area_code != "" && ct_code == ""){
				$("#city_name"			, targetForm).val(area_name);
			}
			else if( area_code != "" && ct_code != ""){
				//$("#city_name"			, targetForm).val(area_name+" - "+ct_name);	
				$("#city_name"			, targetForm).val(area_name+" - "+ct_name);	//#23426			
			}
			$("#city_code"			, targetForm).val(ct_code);
			$("#ccc_sub_area_code"	, targetForm).val(area_code);
			$("#ccc_sub_area_lcl"	, targetForm).val(area_name);
			
			//[#26630
			if( recommct_click == "Y"){
				$("#city_code"	, targetForm).attr("recommct_click", "Y");	
			}
			else{
				$("#city_code"	, targetForm).removeAttr("recommct_click");
			}
			//]
			
			$("#city_name",targetForm).trigger("blur");
			$("#city_code", targetForm).focus();
			
		}
		//국내 시,도 코드에 따른 군,구 도시코드
	,	setDomCities : function( area_code, set_history_city_code){//시,도 코드

			var HOTEL_DOMAIN 	= $("#HOTEL_DOMAIN", "#QS-HOTEL").val();
			var searchUrl = "//"+HOTEL_DOMAIN+"/htl/bk/findListDomCity.lts";
			var target = "#dom_area_div form[id=htl_search]";
			try {

				if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
										
			        var xdr = new XDomainRequest();
			        xdr.open("get", searchUrl+"?ccc_sub_area_code="+area_code ,true);
			        xdr.withCredentials = true;
			        xdr.onload = function() {
			        	var result = xdr.responseText;

			        	var domCityArr  = result.split(",");
						var domCityCode = domCityArr[0].split("&");
		                var domCityName = domCityArr[1].split("&");
		
		                var option_head_tag = '<option value="">시군별 전체</option>';
		                var option_tag = "";
						for( var i = 0 ; i < domCityCode.length ; i++){
							option_tag = option_tag +'<option value="'+domCityCode[i]+'">'+$.trim(domCityName[i])+'</option>';
						}
		            	$("#city_code", target).children().remove();
		            	$("#city_code", target).append(option_head_tag+option_tag);
		
		            	if( set_history_city_code != null && set_history_city_code != ""){
		            		$("select[name=city_code]"	, targetForm).val(city_code);	
		            	}
		            	
						fakeselect.initialize();
			        };
			        setTimeout(function () {xdr.send();}, 0);
			        
			  	}else{
				  	
					$.ajax({
						async    : false
					,	type     : "POST"
					,	data	 : { "ccc_sub_area_code" : area_code}
					,	url      : searchUrl
					,	dataType : "html"
					,	success	 : function(result) {
			
				 	       	var domCityArr  = result.split(",");
							var domCityCode = domCityArr[0].split("&");
			                var domCityName = domCityArr[1].split("&");
			
			                var option_head_tag = '<option value="">시군별 전체</option>';
			                var option_tag = "";
							for( var i = 0 ; i < domCityCode.length ; i++){
								option_tag = option_tag +'<option value="'+domCityCode[i]+'">'+$.trim(domCityName[i])+'</option>';
							}
			            	$("#city_code", target).children().remove();
			            	$("#city_code", target).append(option_head_tag+option_tag);
			
							fakeselect.initialize();
			    			   
						}
					,	error : function(xhr, status, error){
							alert(error)
					    }
					});
			  	}
			} catch(ee) {
				alert(ee)
			}
		}
		//객실타입[+]버튼 클릭
	,	clickRoomPlus : function( target_div){

			var show_cnt = 0;
			var target = "#"+target_div;

			$(".htl-add-item", target).each(function(i,item){
				if( $(".htl-add-item", target).eq(i).css("display") != "none"){//show 상태
					show_cnt += 1;
				}
			});

			if( show_cnt < 3){//객실타입은 최대 3개
				$(".htl-add-item",target).eq(show_cnt).show();
			}
			
			//[#28296
			if( show_cnt >= 1){
				$(".q-banner").hide();
			}
			else{
				$(".q-banner").show();				
			}
			//]
		}
		//객실타입[-]버튼 클릭
	,	clickRoomMinus : function( target_div){

			var show_cnt = 0;
			var target = "#"+target_div;

			$(".htl-add-item", target).each(function(i,item){
				if( $(".htl-add-item", target).eq(i).css("display") != "none"){//show 상태
					show_cnt += 1;
				}
			});

			if( show_cnt > 1){
				$(".htl-add-item",target).eq(show_cnt-1).hide();
				$(".htl-add-item",target).eq(show_cnt-1).find("select option").eq(0).attr("selected","selected");
				fakeselect.initialize();
			}
			
			//[#28296
			if( show_cnt <= 2){
				$(".q-banner").show();
			}
			else{
				$(".q-banner").hide();				
			}
			//]
		}
		//화면에서 선택한 객실타입정보를 String으로 변환
	,	makeHtlbedtypeStr : function(target_div){
			var show_cnt = 0;
			var target = "#"+target_div;

			$(".htl-add-item", target).each(function(i,item){
				if( $(".htl-add-item", target).eq(i).css("display") != "none"){//show 상태
					show_cnt += 1;
				}
			});

			var roomInfo = new Array();
			var adult_cnt = 0;
			for( var i = 0 ; i < show_cnt ; i++){
				var target_select_value = $(".htl-add-item", target).eq(i).find("select").val();

				if( target_select_value == "선택하세요" ){
					alert("["+(i+1)+"]객실을 선택 해주세요");
					return "";
				}

				adult_cnt += Number(target_select_value.charAt(0));
				if(target_select_value == "1_SG") {
					roomInfo.push({type:"SG",cnt:1});
				} else if(target_select_value == "2_DB") {
					roomInfo.push({type:"DB",cnt:1});
				} else if(target_select_value == "2_TW") {
					roomInfo.push({type:"TW",cnt:1});
				} else if(target_select_value == "3_TR") {
					roomInfo.push({type:"TR",cnt:1});
				}
			}

			var rtnObj = {"SG":0, "DB":0, "TW":0, "TR":0};//#3946
			for(var i=0; i<roomInfo.length; i++) {
				for(var name in rtnObj) {
					if(roomInfo[i].type == name) {
						rtnObj[name]++;
						break;
					}
				}
			}
			
			var strReturn = "";
			if(rtnObj["SG"] != 0) strReturn += "SG:" + rtnObj["SG"] + ";";
			if(rtnObj["DB"] != 0) strReturn += "DB:" + rtnObj["DB"] + ";";
			if(rtnObj["TW"] != 0) strReturn += "TW:" + rtnObj["TW"] + ";";//#3946
			if(rtnObj["TR"] != 0) strReturn += "TR:" + rtnObj["TR"] + ";";

			return strReturn;
		}
		//string으로 구성된 객실타입정보를 객체로 변환
	,	makeHtlbedtypeObject : function( hsf_bed_type){
		/* ex)  hsf_bed_type => SG:2;DB1;
				return object => {	 list:[{type:"SG",type_cnt:"2",type_code:"1_SG"},{type:"DB",type_cnt:"1",type_code:"2_DB"}]
									,each_list:[{type:"SG",type_cnt:"1",type_code:"1_SG"},{type:"SG",type_cnt:"1",type_code:"1_SG"},{type:"DB",type_cnt:"1",type_code:"2_DB"}]
									,hsf_bed_type: "SG:2;DB:1;"
									,total_room_cnt: 3
									,tourlist_cnt: 4 
			 					  }
		*/
			var returnObj 			= new Object();
			var room_type_arr 		= new Array();
			var each_room_type_arr	= new Array();
			var total_room_cnt 		= 0;
			var tourlist_cnt 		= 0;
			
			if( hsf_bed_type != null && hsf_bed_type != ""){ 
				var bed_type_arr = hsf_bed_type.split(";");
				for(var i = 0 ; i < bed_type_arr.length ; i++){
					var content = ""
					if( bed_type_arr[i] != null && bed_type_arr[i] != ""){
						content = bed_type_arr[i].split(":");
						var type_code ="";
						if( content[0] == "SG") type_code = "1_SG";
						else if( content[0] == "DB") type_code = "2_DB";
						else if( content[0] == "TW") type_code = "2_TW";
						else if( content[0] == "TR") type_code = "3_TR";
		
						total_room_cnt = Number(total_room_cnt) + Number(content[1]);
						tourlist_cnt = Number(tourlist_cnt) + Number(type_code.charAt(0) * content[1]);
						room_type_arr.push({ "type":content[0],	"type_cnt" : content[1], "type_code" : type_code});
		
						for( var j=0 ; j < content[1] ; j++){
							each_room_type_arr.push({"type":content[0],	"type_cnt" : "1", "type_code" : type_code})
						} 
						
					}
				}
				returnObj.hsf_bed_type 	= hsf_bed_type;
				returnObj.total_room_cnt= total_room_cnt;
				returnObj.tourlist_cnt 	= tourlist_cnt;
				returnObj.list			= room_type_arr;
				returnObj.eachlist 		= each_room_type_arr;
			}
			else{
				returnObj.hsf_bed_type 	= "";
				returnObj.total_room_cnt= total_room_cnt;
				returnObj.tourlist_cnt 	= tourlist_cnt;
				returnObj.list			= room_type_arr;
				returnObj.eachlist 		= each_room_type_arr;
			}

			return returnObj;
		}	
		//요일 구하기	
	,	getWeek : function (strDate, separator){
			if( strDate != "" && separator != ""){
				strDate = strDate.split(separator);
				try {
					var week = new Array('일', '월', '화', '수', '목', '금', '토');
				    var date = new Date(strDate[0], strDate[1]-1, strDate[2]);
				    date.setDate(date.getDate());
				    return week[date.getDay()];					
				} catch (e) {
					return "";
				}
			}
			return "";		    
		}
		//전송폼체크
	,	formValidCheck : function(target_div){
		
			var target = "#"+target_div+" form[id=htl_search]";
	
			var city_code 		= $("input[name=city_code]"		, target).val();
			var city_name 		= $("input[name=city_name]"		, target).val();
			var checkin_date 	= $("input[name=checkin_date]"	, target).val();
			var checkout_date 	= $("input[name=checkout_date]"	, target).val();
			var ccc_sub_area_code = $("input[name=ccc_sub_area_code]", target).val();
			
			if (target_div == "int_area_div") {
				if(city_code == "" || city_name == "여행도시") {
					alert("여행도시를 선택해주세요.");
					return false;
				} 
				else if (checkin_date == "" || checkin_date == "체크인") {
					alert("체크인 날짜를 선택해주세요.");
					return false;
				}
				else if (checkout_date == "" || checkout_date == "체크아웃") {
					alert("체크아웃 날짜를 선택해주세요.");
					return false;
				}
			} 
			else if (target_div == "dom_area_div") {
				
				if ((city_code == "" && ccc_sub_area_code == "") || city_name == "여행도시") {
					alert("여행도시를 선택해 주세요.");
					return false;
				} else if (checkin_date == "" || checkin_date == "체크인") {
					alert("체크인 날짜를 선택해주세요.");
					return false;
				} else if (checkout_date == "" || checkout_date == "체크아웃") {
					alert("체크아웃 날짜를 선택해주세요.");
					return false;
				}
			}
				
			return true;
		}
		//호텔검색
	,	clickHotelSearch : function(target_div){
			var targetForm 		= "#"+target_div+" form[id=htl_search]";
			var HOTEL_DOMAIN 	= $("#HOTEL_DOMAIN", "#QS-HOTEL").val();
			var bedTypeStr  	= htlQuickSearch.makeHtlbedtypeStr(target_div);
			var bedTypeObject 	= htlQuickSearch.makeHtlbedtypeObject(bedTypeStr);
			var call_url 		= "/htl/bk/htlRealTimeMain.lts";
			var location		= "";

			var validCheck  	= htlQuickSearch.formValidCheck(target_div);
			if( bedTypeStr != "" && validCheck == true){
				//[#14782
				//preLoader.load("body", 0, "/images/front/travel/search/loading_hotel.gif", "호텔 데이터 검색 중...");
				$(".btn-quickSearch").trigger("click");
				preLoader.load('body', 0, '/images/front/travel/search/loading_hotel.png', '호텔 데이터 검색 중...' );//#24122 화살표이미지 제거'/images/front/travel/search/img_loading_add_hotel.png'
				//]
				var week = htlQuickSearch.getWeek($("input[name=checkin_date]", targetForm).val(), "/");
				$("input[name=week]"			, targetForm).val(week);
				$("input[name=room_cnt]"		, targetForm).val(bedTypeObject.total_room_cnt);
				$("input[name=stay_adult]"		, targetForm).val(bedTypeObject.tourlist_cnt);
				$("input[name=hsf_bed_type]"	, targetForm).val(bedTypeStr);			

				if($("#htl_name", targetForm).val() == $("#htl_name", targetForm).attr("title")) {
					$("#htl_name", targetForm).val("");
				}

				if( target_div == "dom_area_div"){
					location = "DOM";
					// call_url ="/htl/bk/HtlSearchDom.lts";
					//ccc_sub_area_lcl, city_name 셋팅
					/*
					var area_code = $("#ccc_sub_area_code"	, targetForm).val();
					var area_name = $("#ccc_sub_area_code"	, targetForm).find("[value="+area_code+"]").text();
					var city_code = $("#city_code"			, targetForm).val();
					var city_name = $("#city_code"			, targetForm).find("[value="+city_code+"]").text();
					*/
					var area_name = $("#ccc_sub_area_lcl"	, targetForm).val();
					var city_name = $("#city_name"			, targetForm).val();

					//[#23426
					if( $("#city_code"			, targetForm) == ""){}
					else{
						if( city_name.indexOf("-") > 0){
							city_name = $.trim(city_name.split("-")[1]);
						}
					}
					//]
					
					$("#ccc_sub_area_lcl"	, targetForm).val(area_name);
					$("#city_name"			, targetForm).val(city_name);

					setMakeDomHtlHistory(targetForm);//쿠키셋팅(quickSearchHistory.js에 선언)
				}
				else{
					location = "INT";
					// call_url ="/htl/bk/HtlSearch.lts";
					setMakeIntHtlHistory(targetForm);//쿠키셋팅(quickSearchHistory.js에 선언)
				}
				
				$(targetForm).attr("action", "http://"+HOTEL_DOMAIN+call_url);
				
				//[당일예약 가능여부 체크 
				// ie8,ie9에서 비동기 방식으로 인해 $(targetForm).submit(); 호출 부를 당일예약 가능여부 결과 부분에 넣음
				var searchUrl		= "//"+HOTEL_DOMAIN+"/htl/bk/CheckTodayBookingFare.lts";
			 	var checkin_date	= $("input[name=checkin_date]", targetForm).val().replace(/[\/-]/gi,""); //-,/ 제거
			 	var hssp_code		= "";
			 	var common_avail_code = "";
			 	
			 	var fromDate	= new Date(); //오늘날짜
				var toDate		= new Date(checkin_date.substring(0,4),Number(checkin_date.substring(4,6))-1,checkin_date.substring(6,8));//체크인날짜
				var v_interval	= Math.ceil((toDate.getTime()-fromDate.getTime())/(1000*60*60*24));
				
				//[#21539
				var directUrlCall = "N";
				if( $.trim($("input[name=htl_name]", targetForm).attr("hci_hssp_code")) != "" 
				&&  $.trim($("input[name=htl_name]", targetForm).attr("hci_hssp_htl_code")) != ""
				&&	$.trim($("input[name=htl_name]", targetForm).attr("hci_htl_name")) == $.trim($("input[name=htl_name]", targetForm).val())
				){
					directUrlCall = "Y";
				}
				else{
					directUrlCall = "N";	
				}
				//]
				
				//[#26630 퀵서치 도시별 조회횟수 데이터 추출을 위한 데이터 저장
				if( v_interval >=0 ){
					
					var hqt_ct_code 		= $("input[name=city_code]", targetForm).val();;
					var hqt_subarea_code 	= "";
					var hqt_location 		= $("input[name=location]"		, targetForm).val();
					var hqt_check_in 		= $("input[name=checkin_date]"	, targetForm).val();
					var hqt_check_out 		= $("input[name=checkout_date]"	, targetForm).val();
					var hqt_room_type 		= $("input[name=hsf_bed_type]" 	, targetForm).val();
					var hqt_recommct_click 	= "";
					var hqt_htl_hsspcode 	= "";
					var hqt_htl_code 		= "";
					var hqt_htl_name		= $("input[name=htl_name]"		, targetForm).val();
					var hqt_trace_type		= "F";
					
					if( directUrlCall == "Y"){
						hqt_htl_hsspcode 	= $.trim($("input[name=htl_name]", targetForm).attr("hci_hssp_code"));
						hqt_htl_code 		= $.trim($("input[name=htl_name]", targetForm).attr("hci_hssp_htl_code"));
					}
					
					if( hqt_location == "DOM"){
						hqt_subarea_code = $("input[name=ccc_sub_area_code]", targetForm).val();
					}
					
					if( $("#city_code"	, targetForm).attr("recommct_click") == "Y" ){
						hqt_recommct_click = "Y";
					}
										
					var hqt_data = new Object();
					hqt_data["hqt_ct_code"] 		= hqt_ct_code;
					hqt_data["hqt_subarea_code"] 	= hqt_subarea_code;
					hqt_data["hqt_location"] 		= hqt_location;
					hqt_data["hqt_check_in"] 		= hqt_check_in;
					hqt_data["hqt_check_out"] 		= hqt_check_out;
					hqt_data["hqt_room_type"] 		= hqt_room_type;
					hqt_data["hqt_recommct_click"] 	= hqt_recommct_click;
					hqt_data["hqt_htl_hsspcode"] 	= hqt_htl_hsspcode;
					hqt_data["hqt_htl_code"] 		= hqt_htl_code;
					hqt_data["hqt_htl_name"] 		= hqt_htl_name;
					hqt_data["hqt_trace_type"] 		= hqt_trace_type;
					
					var hqt_url = "//"+HOTEL_DOMAIN+"/htl/bk/addHtlQSearchTrace.lts";
					
						
					$.ajax({
						async		: false
					,	type     	: "POST"
					,	data		: hqt_data
					,	url      	: hqt_url
					,	dataType : "html"
					,	success	: function(result){}
				    ,	error : function(xhr, status, error){
				    		alert(error);
								preLoader.remove();
				    	}
					});

					
					
				}
				//]
				
				if (v_interval > 0){
					if( directUrlCall == "Y"){//#21539
						directRoomSearchPage(target_div, bedTypeObject);
					}
					else{
						$(targetForm).submit();
						//[#17254
						if( $(targetForm).attr("target") == "_blank"){
							preLoader.remove();	
							$(targetForm).attr("target","_self");
						}		
						//]	
					}
				}
				else {

					if( v_interval == 0){
						
						try {
							
							if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
								var xdr = new XDomainRequest();
								var param = "checkin="+checkin_date+"&location="+location+"&hssp_code="+hssp_code+"&common_avail_code="+common_avail_code;
						        xdr.open("get", searchUrl+"?"+param ,true);
						        xdr.withCredentials = true;
						        xdr.onload = function() {
						        	if( xdr.responseText == ""){
						        		if( directUrlCall == "Y"){//#21539
						        			directRoomSearchPage(target_div,bedTypeObject);
										}
										else{
							        		$(targetForm).submit();
							        		//[#17254
							        		if( $(targetForm).attr("target") == "_blank"){
												preLoader.remove();
												$(targetForm).attr("target","_self");
											}
											//]
										}
						        	}
						        	else if( xdr.responseText == "-1"){
										alert("당일 요금 예약이 불가능한 시간입니다.");
										//[#14782
										preLoader.remove();
									}
						        }
						        xdr.onerror = function(){
									alert("당일 요금 예약이 불가능한 시간입니다.");
									//[#14782
									preLoader.remove();
						        }
						        setTimeout(function () {xdr.send();}, 0);
							}
							else{
								
								var data_param = {};
								if( !cfIsNull(location)){
									data_param.checkin = checkin_date;
								}
								if( !cfIsNull(location)){
									data_param.location = location;
								}
								if( !cfIsNull(hssp_code)){
									data_param.hssp_code = hssp_code;
								}
								if( !cfIsNull(common_avail_code)){
									data_param.common_avail_code = common_avail_code;
								}
								
								$.ajax({
										async		: false
									,	type     	: "POST"
									,	data		: data_param
									,	url      	: searchUrl
									,	dataType : "html"
									,	success	: function(result){
											if(result==""){
												if( directUrlCall == "Y"){//#21539
													directRoomSearchPage(target_div,bedTypeObject);
												}
												else{
													$(targetForm).submit();
													//[#17254
													if( $(targetForm).attr("target") == "_blank"){
														preLoader.remove();	
														$(targetForm).attr("target","_self");
													}
													//]
												}
											}
											else if( result == "-1"){
												alert("당일 요금 예약이 불가능한 시간입니다.");
												//[#14782
												preLoader.remove();
											}
								    	}
								    ,	error : function(xhr, status, error){
											if(xhr.responseText =="-1"){
												alert("당일 요금 예약이 불가능한 시간입니다.!!");
												//[#14782
												preLoader.remove();
											}
								    	}
								});
							}
						} catch(ee) {
							alert(ee)
							//window.setTimeout('hideRendering()',100);
						}
					}
					else{
						alert("당일 또는 당일 이전 날짜는 예약을 진행할 수 없습니다.");
					}
				}
				
				//]
				
				
				
				
			}
			else if( validCheck == true && bedTypeStr == "") {
				if( bedTypeStr == "" ){ alert("객실타입을 선택해주세요"); return ;}
			}
		}
	//최근 검색 클릭
	,	clickRecentlyHistory : function(nation_code,nation_name,area_code,area_name,city_code,city_name,checkin_date,checkout_date,stayDay,hsf_bed_type,location,htl_name,hci_hssp_code,hci_hssp_htl_code,recommct_click){
			var target_div = "";
			if( location.toUpperCase() == "INT"){
				target_div ="int_area_div";
			}
			else if( location.toUpperCase() == "DOM"){
				target_div ="dom_area_div";
			}

			if( target_div != ""){
				
				var targetForm = "#"+target_div+" form[id=htl_search]";
		
				if( target_div == "int_area_div"){
					//체크아웃이 가능한 최소일, 최대일 변경
					$("input[name=nation_name]"			, targetForm).val(nation_name);
					$("input[name=city_code]"			, targetForm).val(city_code);
					$("input[name=city_name]"			, targetForm).val(city_name);
				}
				else if( target_div == "dom_area_div"){
					//체크아웃이 가능한 최소일, 최대일 변경
					/*
					$("select[name=ccc_sub_area_code]"	, targetForm).val(area_code);
					$("input[name=ccc_sub_area_lcl]"	, targetForm).val(area_name);
		
					htlQuickSearch.setDomCities(area_code,city_code);
					
					$("select[name=city_code]"	, targetForm).val(city_code);
					$("input[name=city_name]"	, targetForm).val(city_name);
					*/
					
					$("input[name=ccc_sub_area_code]"	, targetForm).val(area_code);
					$("input[name=ccc_sub_area_lcl]"	, targetForm).val(area_name);
					//[#23426
					/*
					if( area_code != "" && city_code == ""){
						$("#city_name"			, targetForm).val(area_name);
					}
					else if( area_code != "" && city_code != ""){
						$("#city_name"			, targetForm).val(city_name);	
					}
					*/
					$("input[name=city_code]"	, targetForm).val(city_code);
					if( area_code != "" && city_code != ""){
						$("#city_name"			, targetForm).val(area_name+" - "+city_name);	
					}
					else{
						$("input[name=city_name]"	, targetForm).val(city_name);
					}
					//]
					
				}

				$("input[name=location]"		, targetForm).val(location);
				$("input[name=checkin_date]"	, targetForm).val(checkin_date);
				$("input[name=checkout_date]"	, targetForm).datepicker( "option", "minDate", htlQuickSearch.calculateDate(checkin_date, "/", htlMinStayDay) );
				$("input[name=checkout_date]"	, targetForm).datepicker( "option", "maxDate", htlQuickSearch.calculateDate(checkin_date, "/", htlMaxStayDay) );
				$("input[name=checkout_date]"	, targetForm).val(checkout_date);
				$("select[name=stayDay]"		, targetForm).val(stayDay);
				
				//[#26630
				if( recommct_click == "Y"){
					$("input[name=city_code]"	, targetForm).attr("recommct_click","Y");	
				}
				else{
					$("input[name=city_code]"	, targetForm).removeAttr("recommct_click");
				}
				//]
				
				//호텔명
				if( htl_name != ""){
					$("input[name=htl_name]", targetForm).val(htl_name);
					//[#24858
					$(targetForm).find('.htl-i-input2 input').addClass("has-value");
					if( eval(hci_hssp_htl_code) != null && eval(hci_hssp_htl_code) != null){
						$("input[name=htl_name]", targetForm).attr("hci_hssp_code",hci_hssp_code);
						$("input[name=htl_name]", targetForm).attr("hci_hssp_htl_code",hci_hssp_htl_code);
						$("input[name=htl_name]", targetForm).attr("hci_htl_name",htl_name);
					}
					else{
						$("input[name=htl_name]", targetForm).removeAttr("hci_hssp_code");
						$("input[name=htl_name]", targetForm).removeAttr("hci_hssp_htl_code");
						$("input[name=htl_name]", targetForm).removeAttr("hci_htl_name");
					}
					$(targetForm).find('.htl-i-input2 input.text').trigger('focusout');
					//]
				}
				else if( htl_name == ""){
					$("input[name=htl_name]", targetForm).val("");
					//[#24858
					$("input[name=htl_name]", targetForm).removeAttr("hci_hssp_code");
					$("input[name=htl_name]", targetForm).removeAttr("hci_hssp_htl_code");
					$("input[name=htl_name]", targetForm).removeAttr("hci_htl_name");
					//]
				}
				
				//[객실타입
				$("input[name=hsf_bed_type]", targetForm).val(hsf_bed_type);
				
				var bed_type_obj = htlQuickSearch.makeHtlbedtypeObject(hsf_bed_type);
				$("input[name=room_cnt]"	, targetForm).val(bed_type_obj.total_room_cnt);
				$("input[name=stay_adult]"	, targetForm).val(bed_type_obj.tourlist_cnt);
				
				
				//객실 첫번째를 제외한 2,3번째는 화면에 보이지 않게 초기화
				$(".htl-add-item", targetForm).not(":eq(0)").hide();
				//선택한 객실타입 설정 및 show
				var each_list = bed_type_obj.eachlist;
				for (var i = 0; i < each_list.length ; i++){
					$(".htl-add-item", targetForm).eq(i).find("select").val(each_list[i].type_code);
					$(".htl-add-item", targetForm).eq(i).show();
				} 
				//]
				
				//[#28296
				if( bed_type_obj.total_room_cnt == 1){
					$(".q-banner").show();
				}
				else{
					$(".q-banner").hide();
				}
				//]
												
				fakeselect.initialize(); //select 사용으로인한
			}
		}
		//호텔명 입력창 포커스 인
	,	htlNameFocusIn : function( obj){
			
			var htl_nm_title = $(obj).attr("title");
			var htl_nm_value = $(obj).val();
			if( htl_nm_title == htl_nm_value){
				$(obj).val("");
			}
			
			
			var target_div = $(obj).parents("form[name=htl_search]").parent("div").attr("id");
			var targetform = $(obj).parents("form[name=htl_search]");
		
			var ajaxUrl ="";
			var dataParam= {};
			
			if( target_div == "int_area_div"){
			
				$("#htl_name", targetform).autocomplete({
					appendTo : "#inthtlname_autocomplete"
				,	autoFocus: true
				,	close	: function ( event, ui){ 
						//console.log('inthtlname_autocomplete : close');
						//$("#inthtlname_autocomplete").html("");
						//$("#inthtlname_autocomplete").hide(); 
					}
				,	source: function( request, response ) {

						ajaxUrl		= "//hotel.priviatravel.com/htl/bk/intHtlListSearchKeyword.lts";
						
						var city_code	= $("#city_code"	, targetform).val();
						var keyinvalue	= $("#htl_name"		, targetform).val();
						
						if( city_code ==""){
							return false;
						}
						
						// 연속공백추가시 검색 안함
                        if (keyinvalue.length > 1) {
                            var lastKeyInValue = keyinvalue.substring(keyinvalue.length - 2, keyinvalue.length);
                            if (lastKeyInValue == '  ') return false;
                        }
						
						if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
									
							var parameters = '?return_type=JSON'+'&city_code=' + encodeURIComponent(  city_code) ;
							parameters = parameters + '&htl_name='+encodeURIComponent( keyinvalue ) ;
							
			       			var xdr = new XDomainRequest();
			       			xdr.open("get", ajaxUrl + parameters );
			       			xdr.withCredentials = true;
			       			xdr.onload = function(data) {
			       				
			       				
			       				var tag = (jQuery.parseJSON(xdr.responseText ));
								
			       				$("#inthtlname_autocomplete .ui-autocomplete li").remove();
								$("#inthtlname_autocomplete").show();
								$("#inthtlname_autocomplete").find(".ui-autocomplete").show();
								var msg = jQuery.parseJSON( xdr.responseText );
								
			       				if( msg.values != "-1"){
			       					
			       					response(  $.map( msg.values, function( item ) {
			       						return {
				       						label :"", 
				                			value :item.htl_name_lcl,
				                			htl_name_lcl : item.htl_name_lcl,	
			                  				htl_name_eng : item.htl_name_eng,
			                  				hssp_code	 : item.hssp_code,
			                  				htl_code	 : item.htl_code
			       						}
			       					}));
									
			       				}
			       				else{
									var tag = autocomplete_nodata_tag(msg);
									$("#inthtlname_autocomplete .ui-autocomplete").html(tag).show();
								}
			       				$("#inthtlname_autocomplete").show();
								$("#inthtlname_autocomplete").find(".ui-autocomplete").show();			       				
			       			};
							setTimeout(function () {
								xdr.send();
							}, 0);
						}
						else{
							
							
							dataParam	= {
									 	"city_code"	: city_code 
									,	"htl_name"		: keyinvalue
									,	"return_type"	: "JSON"
								  };
					
							$.ajax({
									type : "post"
								,	async : false
								,	url : ajaxUrl
								,	data : dataParam
								,	dataType : "json"
								,	success : function(msg) {
										
										$("#inthtlname_autocomplete .ui-autocomplete li").remove();
										$("#inthtlname_autocomplete").show();
										$("#inthtlname_autocomplete").find(".ui-autocomplete").show();
										if(msg.values != "-1"){
											
											response( $.map( msg.values, function( item ) {	
					                            return {
					                            	//label : 화면에 보여지는 텍스트
						                			//value : 실제 text태그에 들어갈 값
					                            	label :"", 
						                			value :item.htl_name_lcl,
						                			htl_name_lcl : item.htl_name_lcl,	
					                  				htl_name_eng : item.htl_name_eng,
					                  				hssp_code	 : item.hssp_code,
					                  				htl_code	 : item.htl_code
					                            }
					                        }));
										}
										else{
											var tag = autocomplete_nodata_tag(msg);
											$("#inthtlname_autocomplete .ui-autocomplete").html(tag).show();
										}
										
										
								}
								,	error : function(xhr, status, error){
										
										return false;
								}
							});
						}
						$(".ui-helper-hidden-accessible").hide();
					}
				,	minLength: 2
		        ,	delay: 200
				})
				.data('uiAutocomplete')._renderItem = function( ul, item ) {
					
					var tag = "";
					tag += "<li class='ui-menu-item' role='presentation'>";
					tag += "	<a class='ui-corner-all' tabindex='-1' onmousedown='htlQuickSearch.setHtlName(\"int_area_div\", \""+item.htl_name_lcl+"\", \""+item.hssp_code+"\", \""+item.htl_code+"\");'>";
					tag += "    	<span>"+item.htl_name_lcl+"</span>";
					tag += "    	<span>"+item.htl_name_eng+"</span>";
					tag += "	</a>";
					tag += "</li>";
					
					return $( tag ).data( "item.autocomplete", item ).appendTo( ul );
				};
			}
			else if( target_div == "dom_area_div"){
				
				$("#htl_name",$(targetform)).autocomplete({
					appendTo : "#domhtlname_autocomplete"
				,	autoFocus: true
				,	close	: function ( event, ui){
						//console.log('domhtlname_autocomplete : close');
						//$("#domhtlname_autocomplete").html("");
						//$("#domhtlname_autocomplete").hide();
					}	
				,	source: function( request, response ) {

						ajaxUrl		= "//hotel.priviatravel.com/htl/bk/domHtlListSearchKeyword.lts";
						
						var area_code	= $("#ccc_sub_area_code"	, targetform).val();
						var city_code	= $("#city_code"			, targetform).val();
						var keyinvalue	= $("#htl_name"				, targetform).val();
						
						if( area_code ==""){
								return false;
						}
						
						// 연속공백추가시 검색 안함
                        if (keyinvalue.length > 1) {
                            var lastKeyInValue = keyinvalue.substring(keyinvalue.length - 2, keyinvalue.length);
                            if (lastKeyInValue == '  ') return false;
                        }
						
						if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
									
							var parameters = '?return_type=JSON'+'&area_code='+ encodeURIComponent(  area_code)+'&city_code=' + encodeURIComponent(  city_code) ;
							parameters = parameters + '&htl_name='+encodeURIComponent( keyinvalue ) ;
							
			       			var xdr = new XDomainRequest();
			       			xdr.open("get", ajaxUrl + parameters );
			       			xdr.withCredentials = true;
			       			xdr.onload = function(data) {
			       				
			       				
			       				var tag = (jQuery.parseJSON(xdr.responseText ));
								
			       				$("#domhtlname_autocomplete .ui-autocomplete li").remove();
								$("#domhtlname_autocomplete").show();
								$("#domhtlname_autocomplete").find(".ui-autocomplete").show();
								var msg = jQuery.parseJSON( xdr.responseText );
								
			       				if( msg.values != "-1"){
			       					
			       					response(  $.map( msg.values, function( item ) {
			       						return {
				       						label :"", 
				                			value :item.htl_name_lcl,
				                			htl_name_lcl : item.htl_name_lcl,	
			                  				htl_name_eng : item.htl_name_eng	
			       						}
			       					}));
									
			       				}
			       				else{
									var tag = autocomplete_nodata_tag(msg);
									$("#domhtlname_autocomplete .ui-autocomplete").html(tag).show();
								}
			       				
			       				
			       				$(".ui-helper-hidden-accessible").hide();
			       				
			       			};
							setTimeout(function () {
								xdr.send();
							}, 0);
						}
						else{
							
							
							dataParam	= {
										"area_code"		: area_code
									, 	"city_code"		: city_code 
									,	"htl_name"		: keyinvalue
									,	"return_type"	: "JSON"
								  };
					
							$.ajax({
									type : "post"
								,	async : false
								,	url : ajaxUrl
								,	data : dataParam
								,	dataType : "json"
								,	success : function(msg) {
										
										$("#domhtlname_autocomplete .ui-autocomplete li").remove();
										$("#domhtlname_autocomplete").show();
										$("#domhtlname_autocomplete").find(".ui-autocomplete").show();
										
										if(msg.values != "-1"){
											response( $.map( msg.values, function( item ) {	
					                            return {
					                            	//label : 화면에 보여지는 텍스트
						                			//value : 실제 text태그에 들어갈 값
					                            	label :"", 
						                			value :item.htl_name_lcl,
						                			htl_name_lcl : item.htl_name_lcl,	
					                  				htl_name_eng : item.htl_name_eng,
					                  				hssp_code	 : item.hssp_code,
					                  				htl_code	 : item.htl_code
					                            }
					                        }));
										}
										else{
											var tag = autocomplete_nodata_tag(msg);
											$("#domhtlname_autocomplete .ui-autocomplete").html(tag).show();
										}
												
							
										
										$(".ui-helper-hidden-accessible").hide();
								}
								,	error : function(xhr, status, error){
										
										return false;
								}
							});
						}
					}
				,	minLength: 2
		        ,	delay: 200
				})
				.data('uiAutocomplete')._renderItem = function( ul, item ) {
					
					var tag = "";
					tag += "<li class='ui-menu-item' role='presentation'>";
					tag += "	<a class='ui-corner-all' tabindex='-1' onmousedown='htlQuickSearch.setHtlName(\"dom_area_div\", \""+item.htl_name_lcl+"\", \""+item.hssp_code+"\", \""+item.htl_code+"\");'>";
					tag += "    	<span>"+item.htl_name_lcl+"</span>";
					//tag += "    	<span>"+item.htl_name_eng+"</span>"; //#23864 국내숙박 영문명 노출하지 않음.
					tag += "	</a>";
					tag += "</li>";
					
					return $( tag ).data( "item.autocomplete", item ).appendTo( ul );
				};
				
			}
			
		}
		//호텔명 입력창 포커스 아웃	
	,	htlNameFocusOut : function( obj){
			//console.log("htlNameFocusOut");
			var htl_nm_title = $(obj).attr("title");
			var htl_nm_value = $(obj).val();

			if( htl_nm_value == ""){
				$(obj).val(htl_nm_title);
				$(obj).removeClass("has-value");
				//[#21539
				$(obj).removeAttr("hci_htl_name");
				$(obj).removeAttr("hci_hssp_code");
				$(obj).removeAttr("hci_hssp_htl_code");
				//]
			}
			else{
				$(obj).addClass("has-value");
				//[#21539
				if( $.trim($(obj).attr("hci_htl_name")) != $.trim(htl_nm_value)){
					$(obj).removeAttr("hci_htl_name");
					$(obj).removeAttr("hci_hssp_code");
					$(obj).removeAttr("hci_hssp_htl_code");
				}
				//]
			}
			
			/*
			var htlname_autocomplete_id = $(obj).parents("form").find("div[id$=htlname_autocomplete]").attr("id");
				
			if( $("#"+htlname_autocomplete_id).find(".alim").length == 1){
				$("#"+htlname_autocomplete_id).html("");
				$("#"+htlname_autocomplete_id).hide();
			}
			*/
			/*
			
			var target_div = $(obj).parents("form[name=htl_search]").parent("div").attr("id");
			if( target_div == "int_area_div"){
				setTimeout(function () {
					$("#inthtlname_autocomplete").html("");
					$("#inthtlname_autocomplete").hide();
					
					
				}, 400);	
			}
			else if( target_div ="dom_area_div"){
				setTimeout(function () {
					$("#domhtlname_autocomplete").html("");
				}, 400);
			}
			*/
		}
	,	setHtlNameClear : function(target_div){
			var targetForm = "#"+target_div+" form[id=htl_search]";
			$("input[name=htl_name]", targetForm).val("");
			$("input[name=htl_name]", targetForm).blur();
			
		}
	,	setHtlName : function( target_div, htl_name, hssp_code, htl_code){//#21539 hssp_code, htl_code 추가
		
			var targetForm = "#"+target_div+" form[id=htl_search]";
			if( htl_name != ""){
				$("input[name=htl_name]", targetForm).val(htl_name);
				//[#21539
				$("input[name=htl_name]", targetForm).attr("hci_htl_name",htl_name);
				$("input[name=htl_name]", targetForm).attr("hci_hssp_code",hssp_code);
				$("input[name=htl_name]", targetForm).attr("hci_hssp_htl_code",htl_code);
				//]
			}
			else{
				$("input[name=htl_name]", targetForm).val("");
				//[#21539
				$("input[name=htl_name]", targetForm).removeAttr("hci_htl_name");
				$("input[name=htl_name]", targetForm).removeAttr("hci_hssp_code");
				$("input[name=htl_name]", targetForm).removeAttr("hci_hssp_htl_code");
				//]
			}
			
			$("input[name=htl_name]", targetForm).blur();
		}
	,	cityNameFocusIn : function( obj){
			
			var target_div = $(obj).parents("form[name=htl_search]").parent("div").attr("id");
			var targetform = $(obj).parents("form[name=htl_search]");
		
			var ajaxUrl ="";
			var dataParam= {};
			
			if( target_div == "int_area_div"){
			
				int_existingValue	= $.trim($("#city_code"	, targetform).val());	//기존 선택도시, 도시변경 없을 때 다시 셋팅
				if( int_existingValue == "여행도시") int_existingValue = "";
				
				if( int_existingValue != ""){
					var city_code	= $("#city_code"	, targetform).val();
					var city_name	= $("#city_name"	, targetform).val();
					var nation_name = $("#nation_name"	, targetform).val();
					int_existingValue = city_code+"|"+city_name+"|"+nation_name;
				}
				
				$("#city_name"		, targetform).val("");
				$("#city_code"		, targetform).val("");
				$("#nation_name"	, targetform).val("");
			
				$("#city_name",$(targetform)).autocomplete({
					appendTo : "#inthtlcity_autocomplete"
				,	autoFocus: true
				,	select : function( event, ui ){
						//console.log('select');
		            	htlQuickSearch.setHtlCity(ui.item.ccc_ct_code ,ui.item.ccc_ct_desc_lcl, ui.item.nt_name);
					}
				,	close	: function( event, ui){
						//console.log('inthtlcity_autocomplete : close');
						
						if( !$(this).is(':focus')){
							if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
								int_cityinfo_setting(targetform);
							}
						}
						
					}
				,	source: function( request, response ) {
	
						ajaxUrl		= "//hotel.priviatravel.com/htl/bk/mHtlIntCitySearchKeyword.lts";
						
						//$('#inthtlcity_quicklayer').slideUp('fast');
						var keyinvalue = $("#city_name",targetform).val();
						
						if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
									
							var parameters = "?return_type=JSON&city_code=" + encodeURIComponent(  keyinvalue) ;
			       			
			       			var xdr = new XDomainRequest();
			       			xdr.open("get", ajaxUrl + parameters );
			       			xdr.withCredentials = true;
			       			xdr.onload = function(data) {
			       				
			       				$("#inthtlcity_autocomplete .ui-autocomplete li").remove();
								$("#inthtlcity_autocomplete").show();
								
								var msg = jQuery.parseJSON( xdr.responseText );
								
			       				if( msg.values != "-1"){
			       					
			       					response(  $.map( msg.values, function( item ) {
			       						return {
				       						label :"", 
				                			value :item.ccc_ct_desc_lcl,
			                  				ccc_ct_desc_lcl : item.ccc_ct_desc_lcl,	
			                  				ccc_ct_desc_eng : item.ccc_ct_desc_eng,		
			                  				nt_name  : item.nt_name,
			                  				ccc_ct_code: item.ccc_ct_code
			       						}
			       					}));
									
			       				}
			       				else{
									var tag = autocomplete_nodata_tag(msg);
									$("#inthtlcity_autocomplete .ui-autocomplete").html(tag).show();
								}
			       				$(".ui-helper-hidden-accessible").hide();
			       				
			       			};
							setTimeout(function () {
								xdr.send();
							}, 0);
						}
						else{
							
							dataParam 	= {
									"city_code" : keyinvalue
								,	"return_type" : "JSON"
							  };
							
							$.ajax({
									type : "post"
								,	async : false
								,	url : ajaxUrl
								,	data : dataParam
								,	dataType : "json"
								,	success : function(msg) {
										
										$("#inthtlcity_autocomplete .ui-autocomplete li").remove();
										$("#inthtlcity_autocomplete").show();
										
										if(msg.values != "-1"){
											
											response( $.map( msg.values, function( item ) {	
					                            return {
					                            	//label : 화면에 보여지는 텍스트
						                			//value : 실제 text태그에 들어갈 값
						                			label :"", 
						                			value :item.ccc_ct_desc_lcl,
					                  				ccc_ct_desc_lcl : item.ccc_ct_desc_lcl,	
					                  				ccc_ct_desc_eng : item.ccc_ct_desc_eng,		
					                  				nt_name  : item.nt_name,
					                  				ccc_ct_code: item.ccc_ct_code		
					                            }
					                        }));
										}
										else{
											var tag = autocomplete_nodata_tag(msg);
											$("#inthtlcity_autocomplete .ui-autocomplete").html(tag).show();
										}
										
								}
								,	error : function(xhr, status, error){
										
										return false;
								}
							});
						}
						
						if($("#inthtlcity_quicklayer").is(':visible')){
							$('#inthtlcity_quicklayer').slideUp('fast');
						}
						$(".ui-helper-hidden-accessible").hide();
					}
				,	minLength: 1
		        ,	delay: 200
				})
				.data('uiAutocomplete')._renderItem = function( ul, item ) {
					
					var tag = "";
					tag+="<li class='ui-menu-item  role='presentation'>";
					tag+="	<a class='ui-corner-all' tabindex='-1' onmousedown='htlQuickSearch.setHtlCity(\"" + item.ccc_ct_code + "\",\""+ item.ccc_ct_desc_lcl+"\",\""+ item.nt_name+ "\");'>";
					tag+="		<span>"+item.ccc_ct_desc_lcl+" / "+item.nt_name+"</span>";
					tag+="		<span>"+item.ccc_ct_desc_eng+"</span>";
					tag+="	</a>";
					tag+="</li>";
					
					return $( tag ).data( "item.autocomplete", item ).appendTo( ul );
				};
				
			}
			else if( target_div == "dom_area_div"){
				
				dom_existingValue	= $.trim($("#ccc_sub_area_code"	, targetform).val());	//기존 선택도시, 도시변경 없을 때 다시 셋팅
				if( dom_existingValue == "여행도시") dom_existingValue = "";
				
				if( dom_existingValue != ""){
					var city_code	= $("#city_code"	, targetform).val();
					var city_name	= $("#city_name"	, targetform).val();
					var area_code	= $("#ccc_sub_area_code", targetform).val();
					var area_name	= $("#ccc_sub_area_lcl"	, targetform).val();
					dom_existingValue = city_code+"|"+city_name+"|"+area_code+"|"+area_name;
				}
				
				$("#city_name"			, targetform).val("");
				$("#city_code"			, targetform).val("");
				$("#ccc_sub_area_code"	, targetform).val("");
				$("#ccc_sub_area_lcl"	, targetform).val("");
			
				$("#city_name",$(targetform)).autocomplete({
					appendTo : "#domhtlcity_autocomplete"
				,	autoFocus: true
				,	close	: function( event, ui){
					//console.log('domhtlcity_autocomplete : close');
						if( !$(this).is(':focus')){
							if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
								dom_cityinfo_setting(targetform);
							}
						}
					}
				,	source: function( request, response ) {
						
						ajaxUrl = "//hotel.priviatravel.com/htl/bk/mHtlDomCitySearchKeyword.lts";
						
						//$('#domhtlcity_quicklayer').slideUp('fast');
						var keyinvalue = $("#city_name",targetform).val();
						
						if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
							
							var parameters = "?return_type=JSON&keyword=" + encodeURIComponent(  keyinvalue) ;
			       			var xdr = new XDomainRequest();
			       			xdr.open("get", ajaxUrl + parameters );
			       			xdr.withCredentials = true;
			       			xdr.onload = function(data) {
			       				$("#domhtlcity_autocomplete .ui-autocomplete li").remove();
								$("#domhtlcity_autocomplete").show();
								
								var msg = jQuery.parseJSON( xdr.responseText );
								$("#domhtlcity_autocomplete .ui-autocomplete").show();								
			       				if( msg.values != "-1"){
			       					response(  $.map( msg.values, function( item ) {
			       						return {
				       						label :"", 
				                			value :item.ccc_ct_desc_lcl,
				                			ccc_sub_area_lcl : item.ccc_sub_area_lcl,	
				                			ccc_sub_area_code : item.ccc_sub_area_code,		
				                			ccc_ct_desc_lcl  : item.ccc_ct_desc_lcl,
			                  				ccc_ct_code: item.ccc_ct_code
			       						}
			       					}));
									
			       				}
			       				else{
									var tag = autocomplete_nodata_tag(msg);
									$("#domhtlcity_autocomplete .ui-autocomplete").html(tag).show();
								}
			       			};
							setTimeout(function () {
								xdr.send();
							}, 0);
						}
						else{
							
							dataParam = {
		 									"keyword" : keyinvalue
		 									,"return_type":"JSON"
										};
							
							$.ajax({
									type : "post"
								,	async : false
								,	url : ajaxUrl
								,	data : dataParam
								,	dataType : "json"
								,	success : function(msg) {
									
										$("#domhtlcity_autocomplete .ui-autocomplete li").remove();
										$("#domhtlcity_autocomplete").show();
									
										if(msg.values != "-1"){
											
											response( $.map( msg.values, function( item ) {	
					                            return {
					                            	label : "", 
						                			value : item.ccc_ct_desc_lcl,
						                			ccc_sub_area_lcl : item.ccc_sub_area_lcl,	
						                			ccc_sub_area_code : item.ccc_sub_area_code,		
						                			ccc_ct_desc_lcl : item.ccc_ct_desc_lcl,
					                  				ccc_ct_code : item.ccc_ct_code		
					                            }
					                        }));
										}
										else{
											var tag = autocomplete_nodata_tag(msg);
											$("#domhtlcity_autocomplete .ui-autocomplete").html(tag).show();
										}
										
								}
								,	error : function(xhr, status, error){
										return false;
								}
							});
						}
						
						if($("#domhtlcity_quicklayer").is(':visible')){
							$('#domhtlcity_quicklayer').slideUp('fast');
						}
						$(".ui-helper-hidden-accessible").hide();
					}
				,	minLength: 2
		        ,	delay: 200
				})
				.data('uiAutocomplete')._renderItem = function( ul, item ) {
					
					var tag = "";
					tag+="<li class='ui-menu-item' role='presentation'>";
					tag+="<a class='ui-corner-all' tabindex='-1' onmousedown='htlQuickSearch.setDomHtlCity(\"" + item.ccc_ct_code + "\",\""+ item.ccc_ct_desc_lcl+ "\",\""+ item.ccc_sub_area_code+ "\",\""+ item.ccc_sub_area_lcl+ "\");'>";
					if( item.ccc_ct_desc_lcl != ""){
						tag+="<span>"+item.ccc_ct_desc_lcl+" / " +item.ccc_sub_area_lcl+"</span>";
					}
					else{
						tag+="<span>"+item.ccc_sub_area_lcl+"</span>";
					}
					tag+="</a>";
					tag+="</li>";
					
					return $( tag ).data( "item.autocomplete", item ).appendTo( ul );
				};
				
			}
			
			
		}//=======END cityNameFocusIn=======
	,	cityNameClick : function(obj){
			var target_div = $(obj).parents("form[name=htl_search]").parent("div").attr("id");
			var targetform = $(obj).parents("form[name=htl_search]");
			if( target_div == "int_area_div"){
				if($("#inthtlcity_quicklayer").is(':visible')){
					$('#inthtlcity_quicklayer').slideUp('fast');
					if($("#city_name",targetform).val() != ""){
						if(int_existingValue != ""){
							var city_code	= $("#city_code"	, targetform).val();
							var city_name	= $("#city_name"	, targetform).val();
							var nation_name = $("#nation_name"	, targetform).val();
							int_existingValue = city_code+"|"+city_name+"|"+nation_name;
							$("#city_name",targetform).val(int_existingValue);	
							$("#city_name",targetform).addClass("has-value");
						}
					}
				}else{
					$("#city_name",targetform).val("");	
					$('#inthtlcity_autocomplete').slideUp('fast');	
			    	//포커스되어 있는 위치밑에서 열림(자동완성 레이어)
			    	$('#inthtlcity_quicklayer').slideDown('fast');
				}	
			}
			else if( target_div == "dom_area_div"){
				
				if($("#domhtlcity_quicklayer").is(':visible')){
					$('#domhtlcity_quicklayer').show();
					$('#domhtlcity_quicklayer').slideUp('fast');
					if($("#city_name",targetform).val() != ""){
						if(dom_existingValue != ""){
							var city_code	= $("#city_code"	, targetform).val();
							var city_name	= $("#city_name"	, targetform).val();
							var area_code	= $("#ccc_sub_area_code", targetform).val();
							var area_name	= $("#ccc_sub_area_lcl"	, targetform).val();
							dom_existingValue = city_code+"|"+city_name+"|"+area_code+"|"+area_name;
							$("#city_name",targetform).val(dom_existingValue);	
							$("#city_name",targetform).addClass("has-value");
						}
					}
				}else{
					$("#city_name",targetform).val("");	
					$('#domhtlcity_autocomplete').slideUp('fast');	
			    	//포커스되어 있는 위치밑에서 열림(자동완성 레이어)
			    	$('#domhtlcity_quicklayer').slideDown('fast');
				}	
				
			}
		}//=======END cityNameClick =======
	,	cityNameKeyUp : function (obj, event){
		
			var target_div = $(obj).parents("form[name=htl_search]").parent("div").attr("id");
			var targetform = $(obj).parents("form[name=htl_search]");
			var keyCode = $.ui.keyCode;
			switch( event.keyCode ) {
			case keyCode.PAGE_UP:
				$("#city_name",targetform).trigger("blur");
			    break;
			case keyCode.PAGE_DOWN:
				$("#city_name",targetform).trigger("blur");
			    break;
			case keyCode.UP:
				$("#city_name",targetform).trigger("blur");
			    event.preventDefault();
			    break;
			case keyCode.DOWN:
			    $("#city_name",targetform).trigger("blur");
			    break;
			case keyCode.ENTER:
			case keyCode.NUMPAD_ENTER:
			case keyCode.TAB:
			    if ( !self.menu.active ) {
			        return;
			    }
			    break;
			case keyCode.ESCAPE:
			    break;
			default:
			    break;
			}
		}//=======END cityNameKeyUp=======	
	,	cityNameFocusOut : function( obj){
		
			var target_div = $(obj).parents("form[name=htl_search]").parent("div").attr("id");
			var targetform = $(obj).parents("form[name=htl_search]");
	
			if( target_div == "int_area_div"){
				setTimeout(function () {
					if($("#inthtlcity_autocomplete").is(':focus') ||$("#inthtlcity_autocomplete .ui-autocomplete").is(':focus')){
						$('#inthtlcity_autocomplete').find(".ui-autocomplete").show();
					}
				});
				
				//console.log("inthtlcity_autocomplete hidden : "+$('#inthtlcity_autocomplete').is(':hidden'));
				if($('#inthtlcity_autocomplete').is(':hidden')){
					$("#inthtlcity_autocomplete").hide();
				}
				
				/*
				setTimeout(function () {
					//$("#inthtlcity_autocomplete").html("");
					$("#inthtlcity_autocomplete").hide();
				}, 400);
				*/
				
				if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
					if( !$("#inthtlcity_autocomplete .ui-autocomplete").is(':visible')){
						int_cityinfo_setting(targetform);
					}
				}
				else{
					int_cityinfo_setting(targetform);			
				}
				
				setTimeout(function () {
					if(!$("#city_name", targetform).is(':focus') && !$("#inthtlcity_quicklayer").is(':focus') && $("#inthtlcity_quicklayer").is(':visible')){
						$('#inthtlcity_quicklayer').slideUp('fast');
					}
				}, 200);
				
				
			}
			else if( target_div == "dom_area_div"){
				
				setTimeout(function () {
					if($("#domhtlcity_autocomplete").is(':focus') ||$("#domhtlcity_autocomplete .ui-autocomplete").is(':focus')){
						$('#domhtlcity_autocomplete').find(".ui-autocomplete").show();
					}
				});
				
				if($('#domhtlcity_autocomplete').is(':hidden')){
					$("#domhtlcity_autocomplete").hide();
				}
				/*
				setTimeout(function () {
					$("#domhtlcity_autocomplete").html("");
				}, 500);
				*/
				
				
				if ($.browser.msie && parseInt($.browser.version) <= 9 && window.XDomainRequest) {
					if( !$("#domhtlcity_autocomplete .ui-autocomplete").is(':visible')){
						dom_cityinfo_setting(targetform);
					}
				}
				else{
					dom_cityinfo_setting(targetform);			
				}
				
				//console.log("visible : "+$("#domhtlcity_autocomplete .ui-autocomplete").is(':visible'));
				
				setTimeout(function () {
					if(!$("#city_name", targetform).is(':focus') && !$("#domhtlcity_quicklayer").is(':focus') && $("#domhtlcity_quicklayer").is(':visible')){
						if(! $("#domhtlcity_quicklayer").find(".of-auto").is(":focus")){
							$('#domhtlcity_quicklayer').slideUp('fast');	
						}
					}
				}, 200);	
			}

		}//=======END cityNameFocusOut=======
};

function cfIsNull( objValue ) {
	var strObj = objValue;
	if ( (strObj == null) || (typeof(strObj) == "string" && strObj == "" || strObj == "null") || strObj == "undefined" || strObj == undefined){
		return true;
	}

	return false;
}
	
$(document).ready(function(){
	
	//섹션 내 탭 메뉴
	$(document).on('click','#QS-HOTEL .sch-1dep li a',function(){
		var idx = $(this).parent().index();
		$(this).closest('.sch-1dep').find('li a').removeClass('on');
		$(this).addClass('on');
		$(this).closest('.quick-section-cont').find('.sch-1dep-cont').hide();
		$(this).closest('.quick-section-cont').find('.sch-1dep-cont').eq(idx).show();
		
		//탭 클릭 시 하위 탭 초기화
		if($(this).closest('.quick-section-cont').find('.sch-1dep-cont').eq(idx).find('.sch-2dep ').size() > 0){
			$(this).closest('.quick-section-cont').find('.sch-1dep-cont').eq(idx).find('.sch-2dep input[type="radio"]').eq(0).trigger('click');
		}
		
		//각 탭 최근검색 show
		$('#QS-HOTEL .recently-search-list').hide();
		
		if($(this).closest('.quick-section-cont').find('.recently-search-list').size() > 0){
			$(this).closest('.quick-section-cont').find('.recently-search-list').eq(idx).show();
		}
		
		var htlcity_quicklayer = $(this).closest('.quick-section-cont').find('.sch-1dep-cont').eq(idx).find("div[id$=htlcity_quicklayer]");
		
		if($(htlcity_quicklayer).is(':visible')){
			$(htlcity_quicklayer).hide();
		}
		
	});

	//셀렉트 박스 디자인
	fakeselect.initialize();
	
	//탭초기화
	$('.quick-section-cont').eq(1).find('.sch-1dep a').eq(0).trigger('click');

	//최근검색 스크롤
	$(".recently-search-cont").mCustomScrollbar({theme:"minimal-dark"});

	//호텔달력셋팅
	htlDatePickerLoad();

	//최근검색쿠키가져오기(quickSearchHistory.js에 선언)
	getIntHtlHistory();
	getDomHtlHistory();
	
	//[#24858 인풋 내용 삭제(임시용)
	$(document).on('focusin','.htl-i-input2 input.has-value',function(){
		if($(this).val() != ''){
			$(this).parent().find('.btn-input-clear').show();
		}		
	});
	$(document).on('focusout','.htl-i-input2 input.text',function(){
		if( $(this).val() == '' ){
			$(this).parent().find('.btn-input-clear').hide();
		}
		else{
			$(this).parent().find('.btn-input-clear').show();
		}
	});
	$(document).on('keyup','.htl-i-input2 input.text',function(){
		if($(this).val() != ''){
			$(this).parent().find('.btn-input-clear').show();
		}
	});
	$(document).on('mousedown','.btn-input-clear',function(e){
		
		$(this).parent().find('input.text').val('');
		$(this).hide();
		e.preventDefault();
		
		var htl_name_obj = $(this).parent().find("input[name=htl_name]");
		htl_name_obj.removeClass("has-value");
		htl_name_obj.removeAttr("hci_htl_name");
		htl_name_obj.removeAttr("hci_hssp_code");
		htl_name_obj.removeAttr("hci_hssp_htl_code");
		//자동완성기능 내용 삭제
		$(this).parent().find("div[id*=htlname_autocomplete]").find('.ui-autocomplete li').remove();
		$(this).parent().find("div[id*=htlname_autocomplete]").hide();
		
		if( htl_name_obj.is(":focus") == false){
			var htl_nm_title = htl_name_obj.attr("title");
			var htl_nm_value = htl_name_obj.val();
			if( htl_nm_value == ""){
				htl_name_obj.val(htl_nm_title);
			}	
		}
		
	});
	//]
});	
 
function htlDatePickerLoad(){

	//숙박 변경시
	$("select[name=stayDay]").on("change", function(){
		var select_id = $(this).attr("id");
		var target = "";
		var checkin = "";
		var checkout = "";
		var stayday = $(this).val();
		if( "int_stayday" == select_id){
			target = "#int_area_div form[id=htl_search]";
		}
		else if( "dom_stayday" == select_id){
			target = "#dom_area_div form[id=htl_search]";
		}

		if( target != ""){
			
			checkin = $("input[name=checkin_date]"	, target).val(); //체크인날짜
			checkout = htlQuickSearch.calculateDate(checkin, "/", stayday); //체크아웃날짜
			
			minDate = htlQuickSearch.calculateDate(checkin, "/", htlMinStayDay);//체크아웃달력의 최소선택가능날짜
			maxDate = htlQuickSearch.calculateDate(checkin, "/", htlMaxStayDay);//체크아웃달력의 최대선택가능날짜
			$("input[name=checkout_date]", target).datepicker( "option", "minDate", minDate );//체크아웃달력의 최소선택가능날짜 셋팅
			$("input[name=checkout_date]", target).datepicker( "option", "maxDate", maxDate );//체크아웃달력의 최대선택가능날짜 셋팅
			$("input[name=checkout_date]", target).val(checkout); //체크아웃날짜 셋팅
			
		}
	});

	
	//해외호텔 체크인 데이터피커
	$('#int_checkin_date',"#int_area_div").datepicker({
		showOn: 'focus',
		showAnim: 'slideDown',
        showOptions: {},
        defaultDate: 0,
        yearRange: 'c-10:c+10',
        showOtherMonths: true,
        calculateWeek: this.iso8601Week,
        shortYearCutoff: '+10',
        minDate: 0,
		maxDate: null,
		duration: 'fast',
		onSelect: function(){	

        	var target 			= "#int_area_div form[id=htl_search]";
        	
        	var stayday 		= $("select[name=stayDay]", target).val(); 			//선택된 박수
			var choice_chkin 	= $(this).val();									//선택한 체크인날짜
			var calc_checkout = htlQuickSearch.calculateDate(choice_chkin, "/", stayday);//계산퇸 체크아웃날짜
			var minDate = htlQuickSearch.calculateDate(choice_chkin, "/", htlMinStayDay); //체크아웃달력의 최소선택가능날짜
			var maxDate = htlQuickSearch.calculateDate(choice_chkin, "/", htlMaxStayDay); //체크아웃달력의 최대선택가능날짜
			$("input[name=checkout_date]", target).datepicker( "option", "minDate", minDate );//체크아웃달력의 최소선택가능날짜 셋팅
			$("input[name=checkout_date]", target).datepicker( "option", "maxDate", maxDate );//체크아웃달력의 최대선택가능날짜 셋팅
			$("input[name=checkin_date]", target).val(choice_chkin); //체크인날짜 셋팅
			$("input[name=checkout_date]", target).val(calc_checkout); //체크아웃날짜 셋팅

		},
        onChangeMonthYear: null,
        numberOfMonths: 2,
        showCurrentAtPos: 0,
        stepMonths: 1,
        stepBigMonths: 12,
        constrainInput: true,
        showButtonPanel: false, 
        autoSize: false,
        dateFormat : 'yy/mm/dd'
	});
	
	//해외호텔 체크아웃 데이터피커
	$('#int_checkout_date',"#int_area_div").datepicker({
		showOn: 'focus',
		showAnim: 'slideDown',
        showOptions: {},
        defaultDate: 0,
        yearRange: 'c-10:c+10',
        showOtherMonths: true,
        calculateWeek: this.iso8601Week,
        shortYearCutoff: '+10',
        //*#4614 캘린더 이상_ 익일날짜 비활성화{
        //minDate: bookableDate,
        minDate: 1,
        //}
		maxDate: null,
		duration: 'fast',
		onSelect:  function(){	
    		
        	var target = "#int_area_div form[id=htl_search]";

        	var choice_chkin  = $("input[name=checkin_date]", target).val();//선택된 체크인날짜 
			var choice_chkout = $(this).val();								//선택된 체크아웃날짜


			if(choice_chkin == "체크인"){
				 alert("체크인 날짜를 선택해주세요");
				 $("input[name=checkout_date]", target).val("체크아웃");
				 return false;
			} 
			
			//박수계산
			var chkinArr 	= choice_chkin.split("/");
			var chkoutArr 	= choice_chkout.split("/");
			var date1 		= new Date(chkinArr[0], chkinArr[1]-1, chkinArr[2]);
			var date2 		= new Date(chkoutArr[0], chkoutArr[1]-1, chkoutArr[2]);
		    var stayDay 	= Math.abs((date2 - date1) / (1000 * 3600 * 24));

		    $("input[name=checkout_date]"	, target).val(choice_chkout); //전송폼의 체크아웃날짜 셋팅
		    $("select[name=stayDay]"		, target).val(stayDay);
		    fakeselect.initialize();
		    
		},
        onChangeMonthYear: null,
        numberOfMonths: 2,
        showCurrentAtPos: 0,
        stepMonths: 1,
        stepBigMonths: 12,
        constrainInput: true,
        showButtonPanel: false, 
        autoSize: false,
        dateFormat : 'yy/mm/dd'
	});

	//국내호텔 체크인 데이터피커
	$('#dom_checkin_date',"#dom_area_div").datepicker({
		showOn: 'focus',
		showAnim: 'slideDown',
        showOptions: {},
        defaultDate: 0,
        yearRange: 'c-10:c+10',
        showOtherMonths: true,
        calculateWeek: this.iso8601Week,
        shortYearCutoff: '+10',
        minDate: 0,
		maxDate: null,
		duration: 'fast',
		onSelect: function(){	
        	
        	var target 			= "#dom_area_div form[id=htl_search]";
        	
        	var stayday 		= $("select[name=stayDay]", target).val(); 			//선택된 박수
			var choice_chkin 	= $(this).val();									//선택한 체크인날짜
			var calc_checkout = htlQuickSearch.calculateDate(choice_chkin, "/", stayday);//계산퇸 체크아웃날짜
			var minDate = htlQuickSearch.calculateDate(choice_chkin, "/", htlMinStayDay); //체크아웃달력의 최소선택가능날짜
			var maxDate = htlQuickSearch.calculateDate(choice_chkin, "/", htlMaxStayDay); //체크아웃달력의 최대선택가능날짜
			$("input[name=checkout_date]", target).datepicker( "option", "minDate", minDate );//체크아웃달력의 최소선택가능날짜 셋팅
			$("input[name=checkout_date]", target).datepicker( "option", "maxDate", maxDate );//체크아웃달력의 최대선택가능날짜 셋팅
			$("input[name=checkin_date]", target).val(choice_chkin); //체크인날짜 셋팅
			$("input[name=checkout_date]", target).val(calc_checkout); //체크아웃날짜 셋팅
			
		},
        onChangeMonthYear: null,
        numberOfMonths: 2,
        showCurrentAtPos: 0,
        stepMonths: 1,
        stepBigMonths: 12,
        constrainInput: true,
        showButtonPanel: false, 
        autoSize: false,
        dateFormat : 'yy/mm/dd'
	});
	
	//국내호텔 체크아웃 데이터피커
	$('#dom_checkout_date',"#dom_area_div").datepicker({
		showOn: 'focus',
		showAnim: 'slideDown',
        showOptions: {},
        defaultDate: 0,
        yearRange: 'c-10:c+10',
        showOtherMonths: true,
        calculateWeek: this.iso8601Week,
        shortYearCutoff: '+10',
        //*#4614 캘린더 이상_ 익일날짜 비활성화{
        //minDate: bookableDate,
        minDate: 1,
        //}
		maxDate: null,
		duration: 'fast',
		onSelect:  function(){	

        	var target = "#dom_area_div form[id=htl_search]";
        	var choice_chkin  = $("input[name=checkin_date]", target).val();//선택된 체크인날짜 
			var choice_chkout = $(this).val();								//선택된 체크아웃날짜

			if(choice_chkin == "체크인"){
				 alert("체크인 날짜를 선택해주세요");
				 $("input[name=checkout_date]", target).val("체크아웃");
				 return false;
			} 
			
			//박수계산
			var chkinArr 	= choice_chkin.split("/");
			var chkoutArr 	= choice_chkout.split("/");
			var date1 		= new Date(chkinArr[0], chkinArr[1]-1, chkinArr[2]);
			var date2 		= new Date(chkoutArr[0], chkoutArr[1]-1, chkoutArr[2]);
		    var stayDay 	= Math.abs((date2 - date1) / (1000 * 3600 * 24));

		    $("input[name=checkout_date]"	, target).val(choice_chkout); //전송폼의 체크아웃날짜 셋팅
		    $("select[name=stayDay]"		, target).val(stayDay);
		    fakeselect.initialize();
		    
		},
        onChangeMonthYear: null,
        numberOfMonths: 2,
        showCurrentAtPos: 0,
        stepMonths: 1,
        stepBigMonths: 12,
        constrainInput: true,
        showButtonPanel: false, 
        autoSize: false,
        dateFormat : 'yy/mm/dd'
	});

	//모바일 전용특가
	$(document).on('click','.quick-section #QS-HOTEL .btn-layerpop',function(){
		if($(this).hasClass('on')){
			$('.smsholder .layer_pop').hide();
			$('.quick-section .btn-layerpop').removeClass('on');
			return false;
		}
		else{
			$(this).addClass('on')
			$(this).parent().next('.smsholder').find('.layer_pop').show();
			return false;
		}
	});
	
	$(document).on('click','.quick-section #QS-HOTEL .layer_pop .btn_close',function(){
		$('.smsholder .layer_pop').slideUp(30);
		$('.quick-section .btn-layerpop').removeClass('on');
		return false;
	});
}

function htlCityPopup(){
	var url = "//hotel.priviatravel.com/htl/bk/findListHtlCity.lts?city_code=&viewType=P";
	var urlName = "htlQuickSearch";
	window.open(url, urlName, 'width=630,height=660');
}

//[#15593 	퀵서치 호텔명 검색기능 추가 + #7254 	퀵서치 도시명 검색 UI변경
function autocomplete_int_htllist_alimtag(data){
	var tag = "";
	tag += "<ul class='ui-autocomplete alim'>";
	tag += "<li class='ui-menu-item empty-city' onclick='htlQuickSearch.setHtlNameClear(\"int_area_div\");'>";
	tag += "<span>호텔명 자동완성기능은 도시선택이 되어야합니다.</span>";
    tag += "</li>";
    tag += "</ul>";
	return tag;
}


function autocomplete_nodata_tag(data){
	
	var tag = "";
	var items = data.values;
	
	if(items == "-1"){
		tag += "<li class='ui-menu-item empty-city'>";
		tag += "<span>검색결과가 없습니다.</span>";
		tag += "</li>";
	}
	return tag;
}

function int_cityinfo_setting(targetform){
	var city_code =$("#city_code"		, targetform).val();
	
	if( city_code == "" && int_existingValue != "" ){
			var dataArr = int_existingValue.split("|");
		$("#city_code"		, targetform).val(dataArr[0]);
		$("#city_name"		, targetform).val(dataArr[1]);
		$("#nation_name"	, targetform).val(dataArr[2]);
	}
	else if( city_code == "" && int_existingValue == "" ){
		$("#city_name"		, targetform).val("");
	}
	
	if( $("#city_name",targetform).val() == ""){
		$("#city_name",targetform).removeClass("has-value");
	}
	else{
		$("#city_name",targetform).addClass("has-value");
	}
}

function dom_cityinfo_setting(targetform){
	
	var area_code = $("#ccc_sub_area_code"	, targetform).val();
	var city_code = $("#city_code"			, targetform).val();
	var city_name = $("#city_name"			, targetform).val();
	
	if( dom_existingValue != "" ){
		
			var dataArr = dom_existingValue.split("|");
			if( area_code == "" && city_code == ""){
				$("#ccc_sub_area_code"	, targetform).val(dataArr[2]);
				$("#ccc_sub_area_lcl"	, targetform).val(dataArr[3]);
				$("#city_code"			, targetform).val(dataArr[0]);
				$("#city_name"			, targetform).val(dataArr[1]);
			}
			
			if( city_name != "여행도시" && city_name ==""){
				$("#ccc_sub_area_code"	, targetform).val(dataArr[2]);
				$("#ccc_sub_area_lcl"	, targetform).val(dataArr[3]);
				$("#city_code"			, targetform).val(dataArr[0]);
				$("#city_name"			, targetform).val(dataArr[1]);
			}
	}
	else if(city_code == "" && area_code == "" && dom_existingValue == "" ){
		$("#city_name"		, targetform).val("");
	}
	
	if( $("#city_name",targetform).val() == ""){
		$("#city_name",targetform).removeClass("has-value");
	}
	else{
		$("#city_name",targetform).addClass("has-value");
	}
	
}
//]

//[#19926 다운로드쿠폰 함수 삽입
function downloadCoupon(couponNo){
	
	var loginForm = $("#downloadCouponForm");
	if(loginForm.length < 1) {
		loginForm = $("<form></form>").attr({id:"downloadCouponForm", action:'https://www.priviatravel.com/common/sso/loginMember/', method:'POST'});
		$(document.body).append(loginForm);
		loginForm.append($('<input type="hidden" value="" name="returnUrl"/>'));
	}
	var returnUrl = document.location.href;
	if( top ){
		returnUrl = top.document.location.href;
		loginForm.attr("target", "_top");
	}
	loginForm.find("input[name='returnUrl']").val(returnUrl);
	
	if("${authInfoVO.isLogin}" == "false" || "${authInfoVO.isLogin}" == "" ){
		
		loginForm.submit();
	} else {
		
		if(!confirm("선택하신 쿠폰을 다운로드 하시겠습니까?")){
			return false;
		}
		
		$.ajax({
			type:'POST'
			, url:"//www.priviatravel.com/customer/benefits/insertCouponIssueInfoJsonp.json"
			, data:{"couponNo":couponNo}
			, async:false
			, dataType:"jsonp"
			, success:function(data){
				if(data.CODE == "0000"){
					
					if( (document.location+"").indexOf("mw") == -1 ){
						if(!confirm("쿠폰이 다운로드 되었습니다.\n다운된 쿠폰을 확인 하시겠습니까?")){
							return false;
						}else{
							location.href = "//www.priviatravel.com/mypage/benefit/main?benefitTab=4";
						}
					}else{
						alert("쿠폰이 다운로드 되었습니다.");
					}
					
				} else if(data.CODE == "9999"){
					if(confirm("로그인이 필요한 서비스입니다.\n로그인 하시겠습니까?")){
						loginForm.submit();
					}
				} else {
					alert(data.MESSAGE);
				}
				return false;
			}
		});
	}
}
//]

//[#21539
function directRoomSearchPage( target_div, bedTypeObject){
	var HOTEL_DOMAIN 	= $("#HOTEL_DOMAIN", "#QS-HOTEL").val();
	var directhUrl = "//"+HOTEL_DOMAIN+"/htl/bk/HtlDetailSearch.lts?";
	var targetForm 		= "#"+target_div+" form[id=htl_search]";
	
	var rooms = "";
	if( bedTypeObject != null){
		try {
			
			var eachlist = bedTypeObject.eachlist;
		
			if( eachlist.length > 0){
				var rooms_str = "";
				for(var i = 0 ; i < eachlist.length; i++){
					rooms_str += eachlist[i].type_code+";";
				}
				if( rooms_str.length <= 1){
					rooms = "";
				}
				else{
					rooms =rooms_str;
				}
			}
		} catch (e) {
			rooms ="";
		}
	}
	
	var hsf_bed_type= $("input[name=hsf_bed_type]" 	, targetForm).val();
	var location	= $("input[name=location]"		, targetForm).val();
	var htl_code	= $.trim($("input[name=htl_name]", targetForm).attr("hci_hssp_htl_code"));
	var hssp_code	= $.trim($("input[name=htl_name]", targetForm).attr("hci_hssp_code"));
	var htl_name	= $("input[name=htl_name]"		, targetForm).val();
	var checkin		= $("input[name=checkin_date]"	, targetForm).val();
	var checkout	= $("input[name=checkout_date]"	, targetForm).val();
	var stayDay		= $("select[name=stayDay]"		, targetForm).val();
	var roomSearchYn= "Y";
	
	var params = "";
	params += 'checkin_date=' + encodeURIComponent(checkin)
    params += '&checkout_date=' + encodeURIComponent(checkout)
    params += '&stayDay=' + encodeURIComponent(stayDay)
    params += '&hsf_hssp_code=' + encodeURIComponent(hssp_code)
    params += '&hsf_hssp_htl_code=' + encodeURIComponent(htl_code)
    params += '&hsf_hssp_htl_name=' + encodeURIComponent(htl_name)
    params += '&roomSearchYn=' + encodeURIComponent(roomSearchYn);
	params += '&hsf_bed_type=' + encodeURIComponent(hsf_bed_type);
    params += '&rooms=' + encodeURIComponent(rooms);
    
    document.location.href = directhUrl+params;
	
}
//]
</script>



